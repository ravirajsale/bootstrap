(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["DesktopUnauthPageWrapper"],{"2U5n":function(e,n,t){const o=["orig","736x","564x","474x","236x","170x"];n.a=(e,n)=>{const t=e[n];if(t)return t;const i=o.indexOf(n);if(i>=0)for(let r=i+1;r<o.length;r+=1){const n=e[o[r]];if(n)return n}return e["236x"]}},"3Qy3":function(e,n,t){t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return i}));const o=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>{switch(!0){case e.includes("Chrome"):return o.CHROME;case e.includes("Safari"):return o.SAFARI;case e.includes("Firefox"):return o.FIREFOX;case e.includes("Opera"):return o.OPERA;case e.includes("IE"):return o.IE;case e.includes("Edge"):return o.EDGE;default:return o.OTHER}}},"5v67":function(e,n,t){var o=t("BtEz"),i=t("jfLK"),r=t("aa0I");n.a=[o.a,i.a,r.a].join("")},"7MCt":function(e,n,t){t.d(n,"a",(function(){return x}));var o=t("q1tI"),i=t("9Hil"),r=t("FDmi"),s=t("2U5n"),a=t("sv3x"),l=t("yweb"),c=t("n6mq"),d=t("nKUr");const u=({color:e="#efefef",width:n=500,reverse:t=!1})=>{const o=t?"M49.33871,98.67741A49.33871,49.33871,0,0,1,49.33871,0h81.32258a49.33871,49.33871,0,0,1,0,98.67742H104.34757l3.17049,12.02761c.64946,1.2671-1.29892,2.53419-2.59784,1.90064L76.22791,98.67741Z":"M103.77209,98.67741,75.07978,112.60566c-1.29892.63355-3.2473-.63354-2.59784-1.90064l3.17049-12.02761H49.33871A49.33871,49.33871,0,0,1,49.33871,0h81.32258a49.33871,49.33871,0,0,1,0,98.67742Z";return Object(d.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 180 113",width:n,children:Object(d.jsx)("g",{children:Object(d.jsx)("g",{children:Object(d.jsx)("g",{children:Object(d.jsx)("path",{d:o,fill:e})})})})})},p=()=>Object(d.jsx)(r.a,{name:"unauthUser",src:"https://i.pinimg.com/originals/d1/7f/3d/d17f3dbfdeaadfb3cddbf956f0c203d0.png"}),b=({sender:e,showIconScale:n})=>{const t=Object(l.c)(),i=e?e.first_name:"",s=e?e.image_medium_url:"",a=n?{transform:"scale(1.8)",transition:"all .8s cubic-bezier(0.66, 0.025, 0.33, 0.975)"}:{},b=n?{opacity:1,transition:"opacity .5s cubic-bezier(0.66, 0.025, 0.33, 0.975)"}:{opacity:0};return Object(d.jsxs)(o.Fragment,{children:[Object(d.jsxs)(c.f,{children:[Object(d.jsx)(c.f,{position:"absolute",width:100,height:100,dangerouslySetInlineStyle:{__style:{top:"25%",left:"25%"}},children:Object(d.jsx)(r.a,{name:i,src:s})}),Object(d.jsx)(c.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"10%",left:"30%"}},children:Object(d.jsx)(u,{width:200})})]}),Object(d.jsxs)(c.f,{children:[Object(d.jsx)(c.f,{position:"absolute",width:100,height:100,dangerouslySetInlineStyle:{__style:{bottom:"26%",right:"19%"}},children:Object(d.jsx)(p,{})}),Object(d.jsxs)(c.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:"35%",right:"27%"}},children:[Object(d.jsx)(c.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{left:"42%",top:"32%",...a}},children:Object(d.jsx)(c.w,{accessibilityLabel:t._("checkmark Green","accesibility label for a green checkmark icon","accesibility label for a green checkmark icon"),icon:"check-circle",color:"green",size:25})}),Object(d.jsx)(u,{reverse:!0,width:200})]})]}),Object(d.jsx)(c.f,{position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:"13%",right:"32%"}},children:Object(d.jsx)(c.f,{dangerouslySetInlineStyle:{__style:b},children:Object(d.jsx)(c.v,{children:t._("Message sent!","Response letting users know the message they wrote just sent","Response letting users know the message they wrote just sent")})})})]})},g=()=>{const e=Object(l.c)(),[n,t]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{const e=window.setTimeout(()=>{t(!0)},100);return()=>{window.clearTimeout(e)}},[]),Object(d.jsxs)(o.Fragment,{children:[Object(d.jsx)(c.f,{position:"absolute",width:100,height:100,dangerouslySetInlineStyle:{__style:n?{bottom:"26%",right:"19%",transition:"transform .8s cubic-bezier(0.66, 0.025, 0.33, 0.975)",transform:"translate(-11em, -16em)"}:{bottom:"26%",right:"19%",transition:"transform .8s cubic-bezier(0.66, 0.025, 0.33, 0.975)"}},children:Object(d.jsx)(p,{})}),Object(d.jsx)(c.f,{position:"absolute",maxWidth:"52%",dangerouslySetInlineStyle:{__style:{bottom:"24%",right:"23%"}},children:Object(d.jsxs)(c.f,{dangerouslySetInlineStyle:{__style:n?{opacity:1,transition:"opacity .5s cubic-bezier(0.66, 0.025, 0.33, 0.975)",transitionDelay:".8s"}:{opacity:0}},children:[Object(d.jsx)(c.v,{children:e._("Now, set up your Pinterest account","header asking users to set up Pinteret account after signing up","header asking users to set up Pinteret account after signing up")}),Object(d.jsx)(c.f,{paddingY:6,children:Object(d.jsx)(c.cb,{align:"center",weight:"bold",children:Object(d.jsx)("span",{className:"deprecatedTextSizeXL",children:e._("This creates a home feed of ideas you'll love","after signup and transition going into the nux step which will help customize their experience","after signup and transition going into the nux step which will help customize their experience")})})})]})})]})};function h({sender:e}){const[n,t]=Object(o.useState)(!1),[i,r]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{let e=null;return e=window.setTimeout(()=>{t(!0),e=window.setTimeout(()=>{r(!0),e=window.setTimeout(()=>{a.b.handleSignupRedirect("/",!0)},3e3)},3e3)},500),()=>{window.clearTimeout(e)}},[]),Object(d.jsx)(c.f,{marginTop:12,display:"flex",flex:"grow",children:i?Object(d.jsx)(g,{}):Object(d.jsx)(b,{sender:e,showIconScale:n})})}var f=t("wbGN"),m=t("7w6Q"),j=t("eOdZ");function y({children:e,inTransition:n}){return Object(d.jsx)(c.f,{color:"white","data-test-id":"signup-modal-full-page",dangerouslySetInlineStyle:{__style:{transition:"all .25s cubic-bezier(0.66, 0.025, 0.33, 0.975)",textAlign:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.45)",...n?{maxWidth:"50.5em",maxHeight:"700px",height:"640px",width:"50.5em"}:{maxWidth:"60.5em",maxHeight:"500px"}}},display:"inlineBlock",margin:"auto",minHeight:450,position:"relative",rounding:2,children:e})}function x({pin:e,sender:n,responseType:t,modalType:u}){var p,b;const[g,x]=Object(o.useState)(""),[_,O]=Object(o.useState)(!1),w=Object(l.c)();if(_)return Object(d.jsx)(y,{inTransition:!0,children:Object(d.jsxs)(c.f,{children:[Object(d.jsx)(c.f,{width:"100%",color:"lightGray",rounding:2,children:Object(d.jsx)(i.a,{duration:6500,finalProgress:100,shape:"rounded"})}),Object(d.jsx)(h,{sender:n})]})});const S=n.first_name,k=g.trim().length>0,v=Object(s.a)(e.images,"orig");return Object(d.jsx)(y,{children:Object(d.jsxs)(c.f,{direction:"row",alignItems:"start",justifyContent:"between",display:"flex",flex:"grow",padding:8,children:[Object(d.jsxs)(c.f,{width:"55%",children:[Object(d.jsxs)(c.f,{alignItems:"center",justifyContent:"between",direction:"row",display:"flex",flex:"grow",marginBottom:3,children:[Object(d.jsx)(c.f,{marginBottom:2,children:Object(d.jsx)(c.v,{children:w._("So, what do you think?","asking reciever what they think of the pin sent to them","asking reciever what they think of the pin sent to them")})}),Object(d.jsx)(c.f,{children:Object(d.jsx)(r.a,{name:S,size:"lg",src:n.image_medium_url})})]}),Object(d.jsxs)(c.f,{marginTop:6,children:[Object(d.jsx)(c.f,{marginBottom:6,children:Object(d.jsx)(c.db,{id:"unauth_response",onChange:({value:e})=>x(e),value:g,placeholder:S?w._("Reply to {{ name }}","placholder text prompting users to reply back to sender(name)","placholder text prompting users to reply back to sender(name)").replace("{{ name }}",S):"",rows:6})}),Object(d.jsx)(c.f,{marginBottom:1,children:Object(d.jsx)(c.g,{fullWidth:!0,text:w._("Send message","button text to send a message","button text to send a message"),color:k?"red":"gray",disabled:!k,accessibilityLabel:w._("Send message"," accessibilty label for sending a message"," accessibilty label for sending a message"),onClick:()=>{(async()=>{m.a.increment(`web.social.unauth.response.message.${t}.click`,1),await j.a.create("ConversationsResource",{user_ids:[n.id],text:g,pin:e.id}).callCreate(),m.a.increment(`web.social.unauth.response.message.${u}.${t}.send`,1),"signup"===u?O(!0):a.b.handleRedirect("/notifications/?tab=inbox")})()}})}),Object(d.jsx)(c.f,{children:Object(d.jsx)(c.g,{fullWidth:!0,text:w._("Skip for now","button text to continue signup flow without sending a message","button text to continue signup flow without sending a message"),color:"white",accessibilityLabel:w._("Skip for now"," accessibilty label for continuing signup flow without a response message"," accessibilty label for continuing signup flow without a response message"),onClick:()=>{m.a.increment(`web.social.unauth.response.${u}.${t}.skip`,1),"signup"===u?a.b.handleSignupRedirect("/",!0):a.b.handleRedirect("/notifications/?tab=inbox")}})})]})]}),Object(d.jsx)(c.f,{children:Object(d.jsxs)(c.f,{rounding:2,minWidth:262,children:[Object(d.jsx)(c.f,{display:"inlineBlock",overflow:"hidden",position:"relative",rounding:2,children:Object(d.jsx)(c.B,{contentAspectRatio:"number"==typeof v.height&&"number"==typeof v.width?v.width/v.height:1,height:362,width:262,children:Object(d.jsx)(f.a,{alt:null!==(p=e.description)&&void 0!==p?p:"",src:null!==(b=v.url)&&void 0!==b?b:"",style:{width:"262px",height:"362px",objectFit:"cover"}})})}),Object(d.jsx)(c.f,{marginTop:2,children:Object(d.jsx)(c.cb,{lineClamp:1,weight:"bold",children:e.title||e.description})})]})})]})})}},"7bkw":function(e,n,t){var o=t("q1tI"),i=t("GI6b"),r=t("TPPM"),s=t("ZSQO"),a=t("QMVr");const l=(e,n)=>{var t,o,i,r,s,a,l,c;switch(n.type){case"dismiss":return{...e,modalType:null,canCloseSignupModal:null!==(t=n.canCloseSignupModal)&&void 0!==t?t:e.canCloseSignupModal};case"show":return{...e,modalType:n.modalType,mfaCreds:null!==(o=n.mfaCreds)&&void 0!==o?o:e.mfaCreds,container:null!==(i=n.container)&&void 0!==i?i:e.container,dwebOMRExpCopyToShow:null!==(r=n.dwebOMRExpCopyToShow)&&void 0!==r?r:e.dwebOMRExpCopyToShow,canCloseSignupModal:null!==(s=n.canCloseSignupModal)&&void 0!==s?s:e.canCloseSignupModal,respondMessageModalPayload:null!==(a=n.respondMessageModalPayload)&&void 0!==a?a:e.respondMessageModalPayload,socialRegistrationCredentials:null!==(l=n.socialRegistrationCredentials)&&void 0!==l?l:e.socialRegistrationCredentials,source:null!==(c=n.source)&&void 0!==c?c:e.source};case"setDismissible":return{...e,canCloseSignupModal:n.canCloseSignupModal};case"toggleSignupWelcomeLoading":return{...e,showSignupWelcomeLoading:n.visible};default:return e}};var c=()=>Object(o.useReducer)(l,{canCloseSignupModal:!0,container:"",dwebOMRExpCopyToShow:"",mfaCreds:null,modalType:null,respondMessageModalPayload:null,showSignupWelcomeLoading:!1,socialRegistrationCredentials:null,source:null}),d=t("RNo4"),u=t("aOj9"),p=t("28DW"),b=t("UNgS"),g=t("QLqj"),h=t("0G5S");const f=(e,n=604800)=>{const t=Object(h.a)(e);return t&&Date.now()-parseInt(t,10)>1e3*n},m=(e=604800)=>{const n=g.b.localStorage.getItem("unauthHybridClickthroughCount");return f("unauthHybridClickthroughTS",e)||!n?0:parseInt(n,10)||0};var j=t("INRR"),y=t("zRck"),x=t("EC67");const _=["todayArticleFeed","todayTab"];n.a=({hybridTier:e,pageType:n})=>{const[t,l]=c(),[h,O]=Object(o.useState)(!1),{loginForMore:w}=Object(u.d)(),S=Object(x.h)(),k=Object(x.i)(),v=()=>{w&&_.includes(n)&&w.setVisible(!1),l({type:"dismiss",canCloseSignupModal:!0})},T=(n,t)=>{var o;l({type:"show",modalType:n,container:null==t?void 0:t.container,dwebOMRExpCopyToShow:null==t?void 0:t.dwebOMRExpCopyToShow,source:null==t?void 0:t.source,respondMessageModalPayload:null==t?void 0:t.respondMessageModalPayload,canCloseSignupModal:null===(null==t?void 0:t.forceOpen)?void 0:!(null!=t&&t.forceOpen)}),Object(p.a)(`unauth_web_container.${null!==(o=(null==t?void 0:t.containerForLogging)||(null==t?void 0:t.container))&&void 0!==o?o:"undefined"}.${e}.${n}.shown`),Object(p.i)({action:"trigger",page_location:k,item:n.includes("signup")?"signup-modal":"login-modal"}),null!=t&&t.skipTrackHistory||Object(p.h)("show_willing_modal")},C=e=>T("login",{container:e,forceOpen:null,skipTrackHistory:!0}),I=Boolean(null==w?void 0:w.visible),M=Object(o.useRef)(I);Object(o.useEffect)(()=>{I!==M.current&&(M.current=I,_.includes(n)&&(I?C(n):v()))}),Object(o.useEffect)(()=>{Object(p.a)(`unauth_web.unauth_page_wrapper.${n}.mounted.is_mobile_false`);"p100"===Object(d.k)(window.location.search).utm_source&&Object(j.b)()},[]);const E=()=>l({type:"setDismissible",canCloseSignupModal:"tier1"===e}),R=!!t.modalType||h;return{dispatchSignupModalAction:l,handleSignupModalHide:v,pinImageClickHandler:({event:t,pin:o,linkTarget:c})=>{var d,u;t&&t.preventDefault(),Object(p.a)(`unauth.desktop.${n}.pin_image.click`),Object(p.i)({action:"click",page:Object(p.c)(n),item:"pin"});const g="pin"===n,h=g&&"tier1"!==e?"signup":"login";let f=null;Object(j.a)()||Object(s.a)(null===(d=window)||void 0===d||null===(u=d.location)||void 0===u?void 0:u.pathname)||(Object(b.a)()?Object(a.a)()?Object(p.a)(`unauth.desktop.${n}.in_cooldown_period`):f={d:"t",mt:"tier1"===e?"login":"signupOrPersonalizedLogin"}:(Object(b.b)(),f={d:"t",mt:h}));const m=Object(i.a)(`/pin/${o.id}/`,f||{});if("fullPageLoad"!==c){if("duploClientNav"===c)S.push(m);else{window.open(m,"_blank").focus()}l({type:"dismiss",canCloseSignupModal:!0}),Object(b.a)()||Object(j.a)()||(Object(b.b)(),T(h,{container:g?y.k:void 0,containerForLogging:y.e,forceOpen:null,skipTrackHistory:!0}))}else Object(r.a)(m,!1)},pinLinkClickHandler:()=>{if(((e=604800)=>{const n=m();if(f("unauthHybridClickthroughTS",e)||!n)try{g.b.localStorage.setItem("unauthHybridClickthroughCount",1),g.b.localStorage.setItem("unauthHybridClickthroughTS",Date.now())}catch(t){console.error(t)}else try{g.b.localStorage.setItem("unauthHybridClickthroughCount",n+1)}catch(t){console.error(t)}})(),Object(j.a)())return;const n=m();E(),"tier1"===e?2!==n&&n%5!=0||C(y.i):n>=2&&T("signupOrPersonalizedLogin",{source:"defaultSource",container:y.i})},setDimissibleByTier:E,setShowHybridBannerModal:O,modalOpened:R,showResponseModalSignup:(e,n)=>T("respondMessage",{source:"defaultSource",container:y.l,respondMessageModalPayload:{type:e,pin:n}}),showSignupModal:T,signupModalState:t}}},BtEz:function(e,n,t){t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return s}));var o=t("yweb"),i=t("nKUr");const r="\n.AlternativesSeparatorContinuous:before, .AlternativesSeparatorContinuous:after {\n  background: rgba(0,0,0,0.2);\n  -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.5);\n  box-shadow: 0 1px 0 rgba(255,255,255,0.5);\n  content: '';\n  display: inline-block;\n  height: 1px;\n  position: relative;\n  vertical-align: middle;\n  width: 37%;\n}\n";function s({css:e={},signupSeparatorContinuous:n=!1,text:t}){const r=Object(o.c)();return Object(i.jsx)("p",{className:n?"AlternativesSeparatorContinuous":"",style:{marginBottom:"16px",marginTop:"16px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold",...e},children:t||r._("OR")})}},GYwO:function(e,n,t){var o=t("q1tI"),i=t.n(o),r=t("ihsa"),s=t("QMVr"),a=t("MKeS"),l=t("DzJC"),c=t.n(l),d=t("n6mq"),u=t("INRR"),p=t("zRck"),b=t("pLLR"),g=t("28DW"),h=t("UNgS"),f=t("3Qy3"),m=t("nKUr"),j=t.n(m);function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const x=Object(a.a)({resolved:{},chunkName:()=>"UnauthHybridBannerSignupModal",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>t.e("UnauthHybridBannerSignupModal").then(t.bind(null,"QNhg")),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(e=>(this.resolved[n]=!0,e))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return"QNhg"}}),_=10,O=5,w=800,S=64,k=({scrollSessionCount:e,dismissed:n},t,o)=>{if(Object(u.a)()||o)return{bannerSize:"quarterScreenBanner"};if("tier1"===t){const t=3===e;return!t||n||Object(s.a)()?{bannerSize:t?"noBanner":"quarterScreenBanner"}:{bannerSize:"fullScreenBanner",isDismissible:!0,signupSource:"login"}}return e<=("tier2"===t?3:2)?{bannerSize:"quarterScreenBanner"}:{bannerSize:"fullScreenBanner",isDismissible:!1}};class v extends o.Component{constructor(...e){super(...e),y(this,"state",{scrollSessionCount:0,bannerSize:"noBanner",isDismissible:!1,dismissed:!1,signupSource:"defaultSource"}),y(this,"onScrollHybridBanner",e=>{const{hybridTier:n,isSafari:t}=this.props;let o=0;const i=e&&e.target;i&&i.documentElement&&i.documentElement.scrollTop>0?o=i.documentElement.scrollTop:i&&i.body&&i.body.scrollTop>0&&(o=i.body.scrollTop);const r=w*O;o<S?this.setState({bannerSize:"noBanner"}):o<r?this.setState({...k(this.state,n,t),scrollSessionCount:Math.ceil(o/w)}):Object(h.a)()||Object(u.a)()||(t?(e&&e.preventDefault(),this.showAlternateSignupModal()):"tier1"===n?this.setState({bannerSize:"fullScreenBanner",isDismissible:!0,signupSource:"login"}):this.setState({bannerSize:"fullScreenBanner",isDismissible:!1}))}),y(this,"onScrollHybridBannerThrottled",c()(this.onScrollHybridBanner,_)),y(this,"showAlternateSignupModal",()=>{const{hybridTier:e,showSignupModal:n,setDimissibleByTier:t}=this.props,{signupSource:o}=this.state,i="tier1"===e?"login":o;n("login"===(i||o)?"login":"signupOrPersonalizedLogin",{source:i,container:"inspired_banner"}),t(),Object(h.b)()}),y(this,"handleDismissSignupModal",()=>{this.setState({bannerSize:"quarterScreenBanner",dismissed:!0})})}componentDidMount(){window.addEventListener("scroll",this.onScrollHybridBannerThrottled)}componentDidUpdate(e,n){const{bannerSize:t}=this.state,{onHybridBannerTriggerFullscreen:o}=this.props;"fullScreenBanner"===t&&"quarterScreenBanner"===n.bannerSize&&o?(Object(g.h)("show_prompted_modal"),o(!0)):"quarterScreenBanner"===t&&"fullScreenBanner"===n.bannerSize&&o&&(o(!1),Object(g.a)("unauth.web.dismiss_modal_via_scroll"))}componentWillUnmount(){window.removeEventListener("scroll",this.onScrollHybridBannerThrottled)}render(){const{isBot:e,inviter:n,hybridTier:t,showSignupModal:o}=this.props,{bannerSize:i,isDismissible:s,dismissed:a,signupSource:l}=this.state;if(e)return null;const c="fullScreenBanner"===i&&s&&!a;return Object(m.jsxs)(d.f,{children:[c&&Object(m.jsx)(r.a,{unsafeCSS:"body { overflow: hidden }"}),Object(m.jsx)(x,{fallback:Object(m.jsx)(d.f,{}),canClose:s,handleDismissSignupModal:this.handleDismissSignupModal,hybridTier:t,bannerSize:i,onSignupClick:()=>o("signup",{source:"defaultSource",container:p.h}),onLoginClick:()=>{o("login",{source:"login",container:p.h})},signupSource:l,toggleType:s?"NOT_NOW_BUTTON":"DEFAULT_TOGGLE",inviter:n})]})}}const T=()=>{const{userAgent:{browserName:e}}=Object(b.d)(),n=e||"";return"number"==typeof n?n:Object(f.b)(n||"")},C=e=>{const{isBot:n}=Object(b.d)(),t=T();return Object(m.jsx)(v,{...e,isBot:n,isSafari:t===f.a.SAFARI})};n.a=C},"HU+g":function(e,n,t){t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return a}));var o=t("q1tI"),i=t("yweb");const r="handleErrorMessage",s=e=>{const n=document.createEvent("CustomEvent");n.initCustomEvent(r,!0,!0,{message:e}),window.dispatchEvent(n)},a=e=>{const n=Object(i.c)();Object(o.useEffect)(()=>{const t=t=>{var o;e((null==t||null===(o=t.detail)||void 0===o?void 0:o.message)||n._("Unknown Error","unauth.error.modal.unknown","Text saying an unknown error occurredr"))};return window.addEventListener(r,t),()=>{window.removeEventListener(r,t)}},[])}},INRR:function(e,n,t){t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return a}));var o=t("QLqj"),i=t("dish");const r="openUnauthType",s=()=>{o.b.sessionStorage.setItem(r,"OPEN_UNAUTH")},a=()=>Object(i.a)()||"OPEN_UNAUTH"===o.b.sessionStorage.getItem(r)},JqDr:function(e,n,t){var o=t("gxu6"),i=t("mwIZ"),r=t.n(i),s=t("eOdZ"),a=t("QLqj"),l=t("VL22"),c=t("RNo4"),d=t("OX7c"),u=t("J8m7"),p=t("yM2L"),b=t("28DW");let g=0;const h=(e,n)=>{const t={...e},{onCorsHandshakeHost:i,registerUserContext:f,sendActiveUserPing:m,successWithoutTokenErrorMessage:j}=n,y=a.b.localStorage.getItem("visitedPages"),x=r()(window,["location","search"],null),_=Object(c.k)(x).utm_campaign;y&&(t.visited_pages=JSON.stringify(y)),_&&(t.utm_campaign=_);const O=a.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(O){const e=[];for(const n of O)n.is_shared_pin&&e.push({ts:n.ts,path:n.path,first_pin_image_signature:n.image_signature,is_shared:!0});e&&(t.visited_pages=JSON.stringify(e.concat(y||[])))}t.user_behavior_data=(()=>{const e={};return["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"].forEach(n=>{const t=a.b.localStorage.getItem(n);t&&(e[n]=t)}),JSON.stringify(e)})();const w=e=>(Object(d.a)("signup"),o.c("galae"),o.c("fbalae"),m(),o.b("ujr","1"),((e,{logContextEventType:n,trackRegisterSuccess:t})=>{let o;switch(e.container){case"home_page":o=1750,Object(b.j)("signup_home_page");break;case"mweb_homepage":o=1750,Object(b.j)("signup_mweb_home_page");break;case"plain_signup_modal":o=1751,Object(b.j)("signup_plain_modal");break;case"closeup_signup_modal":o=1752,Object(b.j)("signup_closeup_modal");break;case"widescreen_signup_modal":o=1753,Object(b.j)("signup_widescreen_modal");break;case"pinit_button_landing":o=1755,Object(b.j)("signup_pinit_button_landing");break;case"inspired_banner":Object(b.j)("signup_inspired_banner");break;case"category_jump_banner":Object(b.j)("signup_category_jump_banner");break;case"send_pin_banner":o=1756,Object(b.j)("send_pin_banner");break;default:o=1754,Object(b.j)("signup_unknown_placement")}const i=e.container||"container_unknown";Object(b.j)("signup.container."+i);const r=e.signupSource||"signupSource_unknown";Object(b.j)("signup.source."+r),o&&n(o);const s=document.referrer;let a;a=s?s.indexOf("/t.co/")>-1?"twitter":s.indexOf("google.")>-1?"google":s.indexOf("bing.")>-1?"bing":s.indexOf("facebook.")>-1?"facebook":"other":"direct",Object(b.j)("signup_referrer."+a),t(),Object(b.j)(`web_signup.${Object(l.b)(e)}.success.${e.page||"page_unknown"}.${i}.${a}.${e.hybridTier||"tier_unknown"}`),Object(b.g)({action:"signup",event:"success",type:Object(l.b)(e)})})(t,n),e),S=e=>{e.api_error_code===u.d&&(Object(b.j)("multi_step_set_age_restrict_cookie"),o.b("r_r","1",4320));if((!e.api_error_code||[u.h,u.g].includes(e.api_error_code))&&g<3)return Object(b.j)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(t.container)}`),g+=1,h(t,n);throw Object(b.g)({action:"signup",event:"fail",type:Object(l.b)(t)}),e};if(!t.facebook_id&&!t.gplus_code&&!t.gplus_id_token&&!t.google_open_id_token&&!t.line_id_token&&Boolean(t.email)&&i){Object(b.j)("unauth_cross_domain_register_debugging_counter");const e=e=>{Object(b.j)(`web_cross_domain_register.${e}.${Object(l.b)(t)}`)};return e("attempt"),Object(p.registerUser)(t,f).then(n=>{w(n);const t=n.data||"";if(t)return e("success_with_token"),Object(p.exchangeTokenAndSetSession)(t,!0).then(n=>{e("success_token_exchanged")},n=>{throw e("success_token_not_exchanged"),n});throw e("success_without_token"),new Error(j)},n=>{e("failure"),S(n)})}return s.a.create("UserRegisterResource",t).callCreate().then(e=>w(e),e=>S(e))};n.a=h},MyRE:function(e,n,t){var o=t("q1tI"),i=t("qhgz"),r=t("yweb"),s=t("n6mq"),a=t("HU+g"),l=t("nKUr");const c=({dismiss:e,errorMessage:n})=>{const t=Object(r.c)();return Object(l.jsx)(i.a,{canClose:!1,hidden:!1,type:"error",children:Object(l.jsxs)(s.f,{color:"white",dangerouslySetInlineStyle:{__style:{borderRadius:"6px",zIndex:"2000"}},margin:"auto",width:380,children:[Object(l.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{fontSize:"20px",fontWeight:"bold",borderBottom:"1px solid #e7e7e7"}},padding:5,children:t._("Oops!","unauth.error.modal","Header for error modal")}),Object(l.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{color:"#333",fontSize:"14px",lineHeight:"21px"}},padding:5,children:n}),Object(l.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{background:"#f0f0f0",borderBottom:"1px solid #dadada",borderRadius:"0 0 6px 6px",padding:"10px 20px"}},height:30,children:Object(l.jsx)(s.f,{dangerouslySetInlineStyle:{__style:{float:"right"}},children:Object(l.jsx)("button",{className:"UnauthBanner__continueButton",onClick:()=>e(),style:{backgroundColor:"#ab171e",border:"1px solid #820a0f",borderRadius:"3px",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",padding:"6px 12px"},children:t._("Okay","unauth.error.modal.okay","Button text for accepting that there was an error")})})})]})})};n.a=({children:e})=>{const[n,t]=Object(o.useState)(null),i=Object(o.useRef)(null);return Object(a.b)(e=>{t(e),clearTimeout(i.current),i.current=setTimeout(()=>{t(null)},3e3)}),Object(o.useEffect)(()=>()=>{clearTimeout(i.current)},[]),Object(l.jsxs)(o.Fragment,{children:[e,!!n&&Object(l.jsx)(c,{dismiss:()=>t(null),errorMessage:n})]})}},QMVr:function(e,n,t){var o=t("QLqj");n.a=()=>{const e=o.b.localStorage.getItem("unauthHybridLoginModalView")||0;return Math.ceil((Date.now()-e)/1e3)<60}},SCuf:function(e,n,t){t.d(n,"a",(function(){return s}));var o=t("yweb"),i=t("n6mq"),r=t("nKUr");function s(){const e=Object(o.c)();return Object(r.jsx)(i.u,{alignItems:"center",justifyContent:"center",children:Object(r.jsx)(i.U,{accessibilityLabel:e._("Loading signup form"),show:!0})})}},UNgS:function(e,n,t){t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var o=t("gxu6");const i=()=>o.a("hasBeenShownLoginModalInOpen"),r=()=>{o.b("hasBeenShownLoginModalInOpen","true",12)}},aOj9:function(e,n,t){t.d(n,"b",(function(){return l})),t.d(n,"d",(function(){return c})),t.d(n,"c",(function(){return s})),t.d(n,"a",(function(){return a}));var o=t("q1tI"),i=t("1dBE");const r=Object(o.createContext)(null),s=()=>Object(o.useContext)(r),a=r.Provider,{Provider:l,useHook:c}=Object(i.c)("DesktopCoreLogin")},aa0I:function(e,n,t){t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return a}));var o=t("n6mq"),i=t("nKUr");const r="\n.Tooltip_message:before, .Tooltip_message:after {\n  border-style: solid;\n  content: '';\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_message:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_message:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_suggestionMessage:before, .Tooltip_suggestionMessage:after {\n  border-style: solid;\n  content: '';\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_suggestionMessage:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_suggestionMessage:after {\n  border-color: transparent #E2780D;\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_mobileMessage:before, .Tooltip_message:after {\n  border-style: solid;\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_mobileMessage:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_mobileMessage:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_wrapper {\n  position: absolute;\n  left: calc(100% + 12px);\n  z-index: 1;\n}\n.Tooltip_mobileWrapper {\n  margin-top: 7px;\n  z-index: 1;\n}\n",s={overflowWrap:"break-word",wordWrap:"break-word"};function a({message:e,customWrapperStyles:n,isSuggestionTooltip:t,children:r,isRTL:a}){return Object(i.jsxs)("div",{className:"Tooltip_wrapper","data-test-id":"tooltip",style:{top:"0px",width:"215px",...n},children:[Object(i.jsx)("div",{className:t?"Tooltip_suggestionMessage":"Tooltip_message",style:{background:"#fff",borderRadius:"6px",WebkitBoxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",boxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",color:"#000",fontStyle:"normal",fontWeight:"normal",lineHeight:"150%",padding:"8px 14px",textAlign:a?"right":"left",maxWidth:"215px",display:"inline-block",float:"left",...t?{boxShadow:"none",background:"#E2780D",color:"#fff",fontSize:"14px",WebkitBoxShadow:"none"}:{}},children:r?Object(i.jsx)("span",{style:s,children:r}):Object(i.jsx)("span",{dangerouslySetInnerHTML:{__html:e},style:s})}),Object(i.jsx)(o.f,{})]})}},adNa:function(e,n,t){var o=t("J6c4");const i="\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nnav,\nsection,\nul {\n  display: block;\n}\n\naudio,\ncanvas,\nvideo {\n  display: inline-block;\n}\n\naudio:not([controls]) {\n  display: none;\n}\n\nhtml {\n  font-size: 100%;\n  text-size-adjust: none;\n}\n\na:hover,\na:active {\n  outline: 0;\n}\n\nsub,\nsup {\n  position: relative;\n  font-size: 75%;\n  line-height: 0;\n  vertical-align: baseline;\n}\nsup {\n  top: -0.5em;\n}\nsub {\n  bottom: -0.25em;\n}\n\nimg {\n  max-width: 100%;\n  width: auto;\n  height: auto;\n\n  vertical-align: middle;\n  border: 0;\n  -ms-interpolation-mode: bicubic;\n}\n\n#map_canvas img {\n  max-width: none;\n}\n\nfieldset {\n  border: 0;\n  margin: 0;\n  padding: 0;\n}\n\nbutton,\ninput,\nselect,\ntextarea {\n  font-size: 100%;\n  margin: 0;\n  vertical-align: middle;\n}\nbutton,\ninput {\n  overflow: visible;\n  line-height: normal;\n}\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  padding: 0;\n  border: 0;\n}\nbutton,\ninput[type='button'],\ninput[type='reset'],\ninput[type='submit'] {\n  cursor: pointer;\n  -webkit-appearance: button;\n}\ntextarea {\n  overflow: auto;\n  vertical-align: top;\n}\nbody {\n  margin: 0;\n}\nh1, h2, h3, h4, h5, h6 {\n  margin: 0;\n}\nfigure {\n  margin: 0;\n}"+`\nhtml {\n  background-color: #fff;\n}\n\nhtml, body {\n  font-family: ${o.b};\n  color: rgb(33, 25, 34);\n  font-size: 12px;\n  height: 100%;\n}\n\nbody {\n  position: relative;\n  overflow-y: overlay;\n  overflow-x: hidden;\n}\n\ninput::-ms-clear {\n  display: none;\n}\n\na {\n  color: #717171;\n  font-weight: bold;\n  text-decoration: none;\n}\n\na:focus,\na:hover {\n  color: #8a8a8a;\n}\n\nul {\n  margin: 0;\n  padding: 0;\n}\n\nul li {\n  list-style: none;\n  padding: 0;\n}\n\n:focus {\n  outline: #d1d1d1 auto 1px\n}\n\nbutton, input, select, textarea {\n  font-family: ${o.b};\n  font-size: 100%;\n  vertical-align: middle;\n  margin: 0px;\n}\n\n.SkipToContent {\n  display: none;\n}\n`;n.a=i},dish:function(e,n,t){t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var o=t("QLqj");const i=()=>o.b.localStorage.getItem("uoiou")||!1,r=e=>{o.b.localStorage.setItem("uoiou",!!e)}},hcCH:function(e,n,t){var o=t("9Hil"),i=t("yweb"),r=t("n6mq"),s=t("nKUr");n.a=()=>{const e=Object(i.c)();return Object(s.jsx)(r.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",width:"100%",height:"100%",children:Object(s.jsxs)(r.f,{color:"white",height:600,minWidth:"500px",rounding:2,width:"30%",children:[Object(s.jsxs)(r.f,{alignItems:"center",direction:"column",display:"flex",height:"99%",justifyContent:"center",padding:12,children:[Object(s.jsx)(r.f,{alignItems:"center",color:"red",display:"flex",height:60,justifyContent:"center",marginBottom:4,rounding:"circle",width:60,children:Object(s.jsx)(r.w,{accessibilityLabel:e._("Loading state for google one tap registration"),color:"white",icon:"pin",size:"28"})}),Object(s.jsx)(r.f,{paddingY:5,dangerouslySetInlineStyle:{__style:{"text-align":"center"}},children:Object(s.jsx)(r.v,{children:e._("Welcome to Pinterest!","Welcome to Pinterest!","Welcome to Pinterest!")})}),Object(s.jsx)(r.cb,{align:"center",overflow:"normal",children:Object(s.jsx)("span",{className:"deprecatedTextSizeXL",children:e._("Your answers to the next questions will help us find the right ideas for you","loading state description while waiting for google one tap registration to complete","loading state description while waiting for google one tap registration to complete")})})]}),Object(s.jsx)(r.f,{width:"100%",children:Object(s.jsx)(o.a,{duration:6e3,finalProgress:95,shape:"rounded"})})]})})}},jfLK:function(e,n,t){t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return u}));var o=t("q1tI"),i=t("nKUr");const r="\n.red.active:focus,\n.red.active:hover {\n  background-color: #d50c22 !important;\n}\n.lightGrey.active:focus,\n.lightGrey.active:hover {\n  background-color: #f5f3f3 !important;\n}\n.darkGrey.active:focus,\n.darkGrey.active:hover {\n  background-color: #5e5e5e !important;\n}\n.blueTransparent.active:focus,\n.blueTransparent.active:hover {\n  background-color: #0077e6 !important;\n}\n.white.active:focus,\n.white.active:hover {\n  background-color: #e6e6e6 !important;\n}\n\n.SignupButton:focus {\n  box-shadow: 0 0 0 4px rgba(0, 132, 255, 0.5);\n  outline: 0;\n}\n\n@keyframes loadingSpinner {\n  to {transform: rotate(360deg);}\n}\n\n.loadingSpinner:before {\n  content: '';\n  box-sizing: border-box;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 20px;\n  height: 20px;\n  margin-top: -10px;\n  margin-left: -10px;\n  border-radius: 50%;\n  border-top: 2px solid white;\n  border-right: 2px solid transparent;\n  animation: loadingSpinner 1s linear infinite;\n}\n",s={background:"none",border:"none",padding:"0",textAlign:"left",display:"block"},a={border:"0px",height:"40px",display:"inline-block",borderRadius:"4px",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"0 18px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",verticalAlign:"middle",textAlign:"center"},l=(e,n)=>e?{backgroundColor:"#efefef",color:"#767676"}:n.includes("red")?{backgroundColor:"#e60023",color:"#fff"}:n.includes("lightGrey")?{backgroundColor:"#ebebeb",color:"#444"}:n.includes("darkGrey")?{backgroundColor:"#333",color:"#fff"}:n.includes("white")?{backgroundColor:"#fff",color:"#444"}:n.includes("blueText")?{backgroundColor:"#fff",color:"#0074e8"}:n.includes("transparent")||n.includes("blueTransparent")?{backgroundColor:"transparent",border:"1px solid #fff",color:"#fff"}:{},c=({disabled:e,loading:n,width:t})=>n?{cursor:"default",...t?{width:t}:{}}:e?{cursor:"not-allowed"}:{},d=({classArray:e,disabled:n,loading:t,styleOverrides:o,width:i})=>({...e.includes("noButtonStyles")?s:{...a,...l(n,e)},...o,...c({disabled:n,loading:t,width:i})});function u({accessibilityLabel:e,children:n,className:t,dataTestId:r,disabled:s,href:a,id:l,loading:c,onClick:u,styleOverrides:p,tabIndex:b,type:g}){const h=Object(o.useRef)(null),[f,m]=Object(o.useState)(null);Object(o.useEffect)(()=>{const e=h.current;if(e){const t=e.style||{};try{m(e.getBoundingClientRect().width+parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0))}catch(n){}}},[]);const j=(t||"").split(" ").concat(c||s?[]:["active"]);return Object(i.jsx)("button",{"aria-label":e||"",className:j.join(" "),"data-test-id":r,disabled:s,href:a,id:l,onClick:u,ref:h,...b?{tabIndex:b}:{},style:d({classArray:j,disabled:s||!1,loading:c||!1,styleOverrides:p,width:f}),type:g||"button",children:c?Object(i.jsx)("div",{className:"loadingSpinner",style:{padding:"0 10px",position:"relative"}}):n})}},oTDp:function(e,n,t){var o=t("QLqj");n.a=()=>{try{o.b.localStorage.setItem("unauthHybridLoginModalView",Date.now())}catch(e){console.error(e)}}},"p+TJ":function(e,n,t){var o=t("q1tI"),i=t.n(o),r=t("7MCt"),s=t("SCuf"),a=t("ihsa"),l=t("MKeS"),c=t("oTDp"),d=t("28DW"),u=t("qhgz"),p=t("n6mq"),b=t("QLqj"),g=t("nKUr"),h=t.n(g);const f=Object(l.a)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>Promise.all([t.e("vendor-react"),t.e("FullPageSignup")]).then(t.bind(null,"CRJj")),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(e=>(this.resolved[n]=!0,e))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return"CRJj"}}),m=({isPinOrBoardPage:e})=>(Object(o.useEffect)(()=>{e&&Object(c.a)()},[e]),null),j=e=>{"saveButtonExp"===e&&b.c.getItem("unauthDesktopSavePinId")&&b.c.removeItem("unauthDesktopSavePinId")},y=e=>{"unauthFollowButton"===e&&b.c.getItem("unauthDesktopFollowId")&&b.c.removeItem("unauthDesktopFollowId")},x=({dismissModal:e,handleSignupModalHide:n,hybridTier:t,inviter:i,pageType:l,setShowSignupWelcomeLoading:c,signupModalState:b})=>{const[h,x]=Object(o.useState)(null),{canCloseSignupModal:_,modalType:O,mfaCreds:w,container:S,dwebOMRExpCopyToShow:k,source:v,socialRegistrationCredentials:T,respondMessageModalPayload:C}=b,I=["pin","board"].includes(l);return Object(g.jsxs)(o.Fragment,{children:[!!O&&Object(g.jsxs)(o.Fragment,{children:[Object(g.jsx)(a.a,{unsafeCSS:"body { overflow: hidden !important }"}),Object(g.jsx)(p.f,{"data-test-id":"fullPageSignupModal",children:Object(g.jsxs)(u.a,{canClose:_,onCloseClick:()=>{j(v),y(v),n()},type:"default",children:[Object(g.jsx)(f,{fallback:Object(g.jsx)(s.a,{}),container:S,dwebOMRExpCopyToShow:k,handleCloseButtonClick:I?()=>{Object(d.a)("unauth.web.page_wrapper.handle_close_click"),j(v),e()}:n,handleShowingSignupWelcomeLoading:c,hybridTier:t,inviter:i,mfaCreds:w,showResponseMessageModal:n=>{e(),x(n?"signup":"login")},...v&&{signupSource:v},socialRegistrationCredentials:T,toggleType:_?"NOT_NOW_BUTTON":"DEFAULT_TOGGLE",type:O,showCloseIcon:!0}),Object(g.jsx)(m,{isPinOrBoardPage:I})]})})]}),h&&Object(g.jsx)(p.f,{"data-test-id":"fullPageResponseModal",children:Object(g.jsx)(u.a,{canClose:!1,type:"default",children:!!(C&&C.pin&&i)&&Object(g.jsx)(r.a,{modalType:h,pin:C.pin,responseType:C.type,sender:i})})})]})};n.a=x},qhgz:function(e,n,t){t.d(n,"a",(function(){return l}));var o=t("q1tI"),i=t("28DW"),r=t("n6mq"),s=t("nKUr");function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class l extends o.Component{constructor(...e){super(...e),a(this,"state",{hidden:this.props.hidden||!1}),a(this,"handleKeyDown",e=>{const{canClose:n,type:t}=this.props;"Escape"===e.key&&(Object(i.a)(`unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON.${t}.${n?"can":"cant"}_close`),n&&(Object(i.a)("unauth.authentication_modal.esc_key_click.DISMISSED."+t),this.close())),e.stopPropagation()}),a(this,"close",()=>{const{onCloseClick:e,onHide:n}=this.props;e?e():(this.setState({hidden:!0}),n&&n())})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){const{hidden:e}=this.state,{canClose:n,children:t,type:o}=this.props;return e?null:Object(s.jsx)(r.f,{bottom:!0,left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:new r.t(1e4),dangerouslySetInlineStyle:{__style:{backgroundColor:"closeup"===o?"rgba(239, 239, 239, 0.96)":"rgba(0, 0, 0, 0.6)",cursor:"closeup"===o?"zoom-out":void 0}},children:Object(s.jsx)("div",{onClick:()=>{Object(i.a)(`unauth.full_page_modal.${o}.empty_space_click`),n&&this.close()},role:"dialog",style:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:0,left:0,right:0,top:0,position:"fixed",display:"flex"},children:Object(s.jsx)("div",{onClick:e=>{e.stopPropagation()},onKeyDown:e=>{n&&"Escape"===e.key&&e.stopPropagation()},role:"dialog",style:{height:"100%",display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},children:t})})})}}},tvGs:function(e,n,t){t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return p}));var o=t("q1tI"),i=t("aa0I"),r=t("J6c4"),s=t("yweb"),a=t("n6mq"),l=t("nKUr");function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const d=["placeholder","-webkit-input-placeholder","-moz-placeholder","-ms-input-placeholder","-moz-placeholder"].map(e=>`\n.UnauthTextInputField__gray::${e} {\n  color: #767676;\n}\n.UnauthTextInputField__darkGray::${e} {\n  color: #333;\n}\n`).join("");class u extends o.Component{constructor(...e){super(...e),c(this,"state",{initialFocus:this.props.focused||!1}),c(this,"renderErrorIcon",e=>{const{i18n:n,isRTL:t}=this.props;if(e){const e={position:"absolute",top:10,width:14,...t?{left:14}:{right:14}};return Object(l.jsx)("div",{className:"InputField__errorIcon",style:e,children:Object(l.jsx)(a.w,{accessibilityLabel:n._("Remove","Accessible label for error icon","Accessible label for error icon"),color:"red",icon:"remove",inline:!0,size:14})})}}),c(this,"renderTooltip",(e,n)=>{if(!e||!n)return;const{isRTL:t}=this.props;return Object(l.jsx)(i.b,{message:e,isRTL:t})}),c(this,"renderGestaltInputField",()=>{const{autoComplete:e,disabled:n,domainError:t,hasError:o,id:i,inputRef:r,name:s,onBlur:c,onChange:d,onFocus:u,onKeyDown:p,helperText:b,placeholder:g,tooltip:h,type:f,useExperimentalTextfield:m,value:j}=this.props,y=o||h?h:"",x=y?m&&t||y:"";return Object(l.jsx)(a.eb,{autoComplete:m?void 0:e,disabled:n,errorMessage:x,helperText:m?void 0:b,id:i,name:s,onBlur:c,onChange:({event:e})=>{d(e)},onFocus:u,onKeyDown:m?()=>{}:p,placeholder:g,ref:e=>{this._input=e,null==r||r(e)},size:m?void 0:"lg",type:f,value:j||""})})}componentDidMount(){this.state.initialFocus&&this.focusInput()}componentDidUpdate(e){this.props.hasError&&!1===e.hasError&&this.focusInput()}focusInput(){this._input&&this._input.focus()}renderVanillaTextInputField(e,n){return Object(l.jsxs)(a.f,{children:[Object(l.jsx)("input",{ref:e=>{this._input=e,this.props.inputRef&&this.props.inputRef(e)},"aria-label":this.props.accessibilityLabel||this.props.placeholder,autoComplete:this.props.autoComplete,className:e,name:this.props.name,onBlur:this.props.onBlur,onChange:this.props.onChange,onClick:this.props.onClick,onFocus:this.props.onFocus,placeholder:this.props.placeholder,style:n,type:this.props.type,value:this.props.value||"",onKeyDown:this.props.onKeyDown}),this.renderErrorIcon(!!this.props.hasError),this.renderTooltip(this.props.tooltip,!!this.props.hasError)]})}render(){let e={backgroundColor:"#fff",border:"solid 1px #ccc",WebkitBoxShadow:"none",boxShadow:"none",position:"relative",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",borderRadius:"3px",fontWeight:"bold",padding:"10px",WebkitBoxSizing:"border-box",boxSizing:"border-box",width:"100%",color:"#333",fontSize:"14px"};this.props.inputStyleOverrides&&(e={...e,...this.props.inputStyleOverrides}),this.props.hasError&&(e={...e,...this.props.isRTL?{paddingLeft:"34px"}:{paddingRight:"34px"}});let n="";return"gray"===this.props.placeholderColor?n="UnauthTextInputField__gray":"darkGray"===this.props.placeholderColor&&(n="UnauthTextInputField__darkGray"),Object(l.jsxs)("fieldset",{className:this.props.classNames,style:{position:"relative",...this.props.fieldsetStyleOverrides||{}},children:[this.props.inputFieldTitle?Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",color:"#333",float:"left",fontFamily:r.b,fontSize:"16px",fontStyle:"normal",fontWeight:"bold",margin:"15px 0px 5px 3px"}},children:this.props.inputFieldTitle}):null,this.props.useGestalt?this.renderGestaltInputField():this.renderVanillaTextInputField(n,e)]})}}function p(e){const n=Object(s.c)();return Object(l.jsx)(u,{...e,i18n:n})}c(u,"defaultProps",{autoComplete:"on",hasError:!1})},wbGN:function(e,n,t){t.d(n,"a",(function(){return r}));var o=t("q1tI"),i=t("nKUr");function r({alt:e,className:n,errorFallback:t,onLoad:r,src:s,srcSet:a,style:l}){const[c,d]=Object(o.useState)(!1);return c?Object(i.jsx)("span",{children:t&&t()}):Object(i.jsx)("img",{alt:e,className:n,onError:()=>d(!0),onLoad:r,src:s,style:l,srcSet:a})}},yM2L:function(e,n,t){t.r(n),t.d(n,"exchangeTokenAndSetSession",(function(){return d})),t.d(n,"verifyLoggedInStatus",(function(){return u})),t.d(n,"registerUser",(function(){return p})),t.d(n,"loginUser",(function(){return b}));var o=t("T0g9"),i=t("eOdZ"),r=t("kmwA"),s=t("28DW"),a=t("J8m7");const l=r.a.settings.ACCOUNTS_PINTEREST_URL,c=(e,n,t,o)=>{const i=e=>{const n=new Error(e.statusText);throw n.response=e,!n.api_error_code&&n.response&&(n.api_error_code=n.response.code,n.message=n.response.message),n},r={credentials:"include",mode:"cors"};return"POST"===t&&(r.method="POST",r.body=n,r.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":o},o||Object(s.a)("unauth.auth_handshake.cross_domain.no_unauth_id."+t)),fetch(e,r).then(e=>200===e.status||401===e.status||409===e.status?e:(i(e),{})).then(e=>e.json()).then(e=>"success"===e.status?Promise.resolve(e):e.code===a.w?(e.api_error_code=e.code,Promise.reject(e)):(i(e),{})).catch(e=>{throw e})},d=(e,n=!1)=>i.a.create("HandshakeSessionResource",{token:e,isRegistration:n}).callCreate(),u=e=>{c(l+"/v3/handshake/verify/","","GET",e).then(e=>{if(e&&e.data){const n=e.data;d(n).then(e=>{window.location.reload()},e=>{})}},e=>{})},p=(e,{facebookToken:n,inviteCode:t,locale:i,referrer:s,unauthId:a})=>{const l=(e.business_name?"partner/handshake":(e.gplus_code||e.gplus_id_token)&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"email/handshake",d={};if(d.email=e.email||"",d.username=e.username||"",d.password=e.password||"",d.first_name=e.first_name||"",d.last_name=e.last_name||"",d.country=e.country||"",d.locale=i,d.referrer=s,e.age){const n=new Date;n.setFullYear(n.getFullYear()-e.age);const t=parseInt(n/1e3,10);d.birthday=t.toString()}if(e.custom_gender&&(d.custom_gender=e.custom_gender),e.gender&&(d.gender=e.gender),e.business_name&&(d.account_type=e.account_type,d.business_name=e.business_name,d.first_name=e.business_name),t&&(d.invite_code=t),e.facebook_id){const t=n||e.facebook_token||"";d.facebook_id=e.facebook_id,d.facebook_token=t,d.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(d.password=e.password||"",d.one_time_code=e.gplus_code,d.id_token=e.gplus_id_token,d.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(d.recaptcha_v3_token=e.recaptchaV3Token),c(`${r.a.settings.ACCOUNTS_PINTEREST_URL}/v3/register/${l}/`,Object(o.a)(d),"POST",a)},b=(e,{facebookToken:n,recaptchaV3Token:t,referrer:i,unauthId:s})=>{const a=(e.mfa_token?"mfa/handshake":e.gplus_id_token&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"handshake",l={};if(e.username_or_email&&(l.username_or_email=e.username_or_email.trim(),l.password=e.password,l.referrer=i),e.facebook_id){const t=n||e.facebook_token||"";l.facebook_id=e.facebook_id,l.facebook_token=t,l.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(l.gplus_id_token=e.gplus_id_token,l.gplus_access_token=e.gplus_access_token,l.gplus_expires_at=e.gplus_expires_at,l.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(l.mfa_token=e.mfa_token),t&&(l.token=t),c(`${r.a.settings.ACCOUNTS_PINTEREST_URL}/v3/login/${a}/`,Object(o.a)(l),"POST",s)}},z6AD:function(e,n,t){t.d(n,"a",(function(){return p}));var o=t("q1tI"),i=t("ZSQO"),r=t("p+TJ"),s=t("hcCH"),a=t("GYwO"),l=t("1Qfp"),c=t("n6mq"),d=t("nKUr");const u=["passwordReset","passwordUserName","topic","flashlight","todayTab","todayArticleFeed","todayArticleInterestFeed","ideasHub","ideasRoot","pinBookmarklet"];function p({dispatchSignupModalAction:e,handleSignupModalHide:n,hybridTier:t,inviter:p,pageType:b,setDimissibleByTier:g,setShowHybridBannerModal:h,showSignupModal:f,signupModalState:m}){var j,y;const x=Object(l.a)(),_=!!t&&x&&!Object(i.a)(null===(j=window)||void 0===j||null===(y=j.location)||void 0===y?void 0:y.pathname)&&!u.includes(b);return Object(d.jsxs)(o.Fragment,{children:[_&&Object(d.jsx)(a.a,{inviter:p,hybridTier:t,onHybridBannerTriggerFullscreen:h,pageType:b,showSignupModal:f,setDimissibleByTier:g}),Object(d.jsx)(r.a,{inviter:p,dismissModal:()=>e({type:"dismiss"}),handleSignupModalHide:n,hybridTier:t,pageType:b,setShowSignupWelcomeLoading:n=>e({type:"toggleSignupWelcomeLoading",visible:n}),signupModalState:m}),m.showSignupWelcomeLoading&&Object(d.jsx)(c.f,{opacity:1,position:"fixed",bottom:!0,top:!0,right:!0,left:!0,zIndex:new c.t(100),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},children:Object(d.jsx)(s.a,{})})]})}},"zC/Q":function(e,n,t){t.r(n),t.d(n,"default",(function(){return I}));var o=t("q1tI"),i=t("/MKj"),r=t("zT87"),s=t("Jr++"),a=t("adNa"),l=t("ihsa"),c=t("Ptwp"),d=t("5v67"),u=t("z6AD"),p=t("kmwA"),b=t("28DW"),g=t("MyRE"),h=t("0WZX"),f=t("yweb"),m=t("Zswh"),j=t("7bkw"),y=t("pTLB"),x=t("fsjD"),_=t("EC67"),O=t("tvGs"),w=t("JqDr"),S=t("aOj9"),k=t("nKUr");const v=a.a+d.a+O.a;const T=({children:e})=>{const n=function(){const{path:e}=Object(_.k)();switch(e){case"/pin/:id":return"pin";case"/:username/:slug/:section_slug":case"/:username/:slug":return"board";case"/:username":return"profile";case"/ideas":return"ideasRoot";case"/ideas/:interest/:id":return"ideasHub";case"/today":return"todayTab";case"/today/:term/:title/:articleId":return"todayArticleFeed";default:throw new Error("Unknown page type")}}(),{country:t,isSeoBot:o}=Object(i.useSelector)(({session:e})=>e),s=Object(r.a)(t,o),{dispatchSignupModalAction:a,handleSignupModalHide:l,pinImageClickHandler:c,pinLinkClickHandler:d,setDimissibleByTier:p,setShowHybridBannerModal:b,showSignupModal:g,signupModalState:f}=Object(j.a)({hybridTier:s,pageType:n});return Object(k.jsxs)(y.a,{value:{showSignupModal:g,pinImageClickHandler:c,pinLinkClickHandler:d},children:[Object(k.jsx)(h.a,{showDesktopSignupModal:g,children:e}),Object(k.jsx)(u.a,{dispatchSignupModalAction:a,handleSignupModalHide:l,hybridTier:s,inviter:void 0,pageType:n,setDimissibleByTier:p,setShowHybridBannerModal:b,showSignupModal:g,signupModalState:f})]})},C=()=>{var e;const n=(()=>{const[e,n]=Object(o.useState)(!1);return{visible:e,setVisible:n}})(),t=Object(m.a)(),r=Object(x.c)(),a=Object(f.c)(),{browser:l,country:d,facebookToken:u,isGoogleOneTapInitialized:g,locale:h,origin:j,referrer:y,unauthId:_,userAgentPlatform:O}=Object(i.useSelector)(({session:e})=>e),S=Object(i.useSelector)(({session:e})=>e.loggedOutUserInfo);return{facebookAccessTokenRefreshIsEnabled:()=>!1,getDeviceAppTypeString:()=>`desktop.${d}.${O}.${l||"unknown"}`.replace(/ /g,"_"),getLoginContext:()=>({referrer:y,facebookToken:u,unauthId:_,origin:j,appType:5}),googleOneTapInitialized:g,loginForMore:n,register:e=>Object(w.a)(e,{logContextEventType:e=>{t({event_type:e})},sendActiveUserPing:c.a,registerUserContext:{facebookToken:u,inviteCode:r,locale:h,referrer:y,unauthId:_},onCorsHandshakeHost:p.a.settings.CORS_HANDSHAKE_DOMAINS.includes(j),successWithoutTokenErrorMessage:a._("We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue."),trackRegisterSuccess:()=>{Object(b.a)("signup_referrer_module."+String(Object(s.a)().referrer||"unknown"))}}),viewer:{type:"UNAUTH",info:S&&S.email&&S.first_name?{connectedToFacebook:!!S.connected_to_facebook,connectedToGoogle:!!S.connected_to_google,email:S.email,firstName:S.first_name,hasPassword:!!S.has_password,imageUrl:null!==(e=S.medium_image_url)&&void 0!==e?e:null}:null}}};function I({children:e}){const n=C();return Object(k.jsxs)(S.b,{value:n,children:[Object(k.jsx)(l.a,{unsafeCSS:v}),Object(k.jsx)(g.a,{children:Object(k.jsx)(T,{children:e})})]})}},zT87:function(e,n,t){t.d(n,"a",(function(){return r}));const o=["AU","US","CA","IE","NZ","GB","CO","ID"],i=["AT","BE","CH","CZ","DK","ES","NO","PT","SE","NL"];function r(e,n=!1){return n||!e||o.includes(e)?"tier1":i.includes(e)?"tier2":"tier3"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/DesktopUnauthPageWrapper-cff27ccff2f30844a0e3.mjs.map