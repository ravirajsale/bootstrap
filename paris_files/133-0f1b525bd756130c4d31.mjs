(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[133],{"0K1N":function(e,t,n){t.a=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},"2hay":function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return g}));var o=n("0K1N"),i=n("37no");const s="274266067164",r=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],a=["public_profile","email","user_birthday","user_friends"],c=()=>{"undefined"!=typeof window&&window.FB&&window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})},l=e=>Object(i.c)(Object(o.a)(e),i.a.FACEBOOK).then(c),u=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),d=(e,t={},n)=>new Promise((o,i)=>{if("connected"===e.status){n&&n("success");const{authResponse:{userID:i,accessToken:s}}=e,a={facebook_id:i,facebook_token:s,facebook_autologin:t.autologin||!1},c="/me?fields="+r.join(",");window.FB.api(c,e=>{o({creds:a,data:{...e,...a,...e.picture&&!e.picture.data.is_silhouette?{image_url:e.picture.data.url}:{}}})})}else{const t=e.status||"unknown";n&&n("failure."+t),i({status:t})}}),h=(e,t)=>{const n=e.data;e.isTrusted&&"string"==typeof n&&0===n.indexOf("_FB_")&&-1!==n.indexOf("type=login_button_dialog_open")&&t&&t("facebook_connect.login_button_dialog_open")},b=()=>new Promise(e=>{window.FB.login(e,{scope:a.join(",")})}).then(d),g=e=>new Promise((t,n)=>{window.FB.api("/me/permissions",o=>{const i=o.data;if(i){const n=i.find(t=>t.permission===e&&"granted"===t.status);return t({hasPerm:!!n})}return n(Error("Failed to call facebook to get permission"))})})},"37no":function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var o=n("7w6Q");const i=.01,s=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function r(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const o=document.createElement("script");o.src=e,o.async=!0,o.addEventListener("load",t),o.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(o)})}function a(e,t=s.OTHER,n=!1){const r=n?"web":"mweb";return new Promise((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===s.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval(()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,o.a.increment(`${r}.loadScript.gplus_one.tries_${e}`,i))},100)}else if(t===s.FACEBOOK)if(window.FB)n();else{const t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,o.a.increment(`${r}.loadScript.facebook.tries_${e}`,i))},100)}else if(t===s.GSI)if(window.google)n();else{const t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,o.a.increment(`${r}.loadScript.gsi.tries_${e}`,i))},100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},"4NNh":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));n("kmwA");const o="https://accounts.google.com/gsi/client",i=e=>{e&&e.cancelLastOperation&&e.cancelLastOperation().then(()=>{})},s=e=>{return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")));var t}},"4NbJ":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return p}));var o=n("kmwA"),i=n("bKKl"),s=n("37no"),r=n("nKUr");const a="postmessage",c="profile email",l=e=>Object(s.c)("https://accounts.google.com/gsi/client",s.a.GSI).then(()=>{const t=window.google,n=t&&t.accounts&&t.accounts.id;return n?new Promise((t,i)=>{n.initialize({client_id:o.a.settings.GPLUS_CLIENT_ID,auto_select:!0,callback:n=>e({resolve:t,reject:i,response:n}),cancel_on_tap_outside:!1,context:"use"}),n.prompt()}):Promise.reject(new Error("no_account_found"))});function u(e){const t={scope:c,client_id:"694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",app_package_name:"com.pinterest",access_type:"offline",cookie_policy:"single_host_origin"},n=function(t){e&&e(t)};return new Promise((e,o)=>{Object(s.c)("https://apis.google.com/js/client:platform.js",s.a.GPLUS_ONE).then(()=>{n("google_script_load"),"undefined"!=typeof window&&window.gapi?window&&window.gapi&&window.gapi.auth2?(n("google_script_init_onuse"),window.gapi.auth2.init(t).then(t=>{n("google_init_success"),e(t)},({error:e})=>{n("google_init_error"),o("init_onuse_"+e)})):(n("google_script_init_exists"),window.gapi.load("auth2",{callback:()=>{n("google_auth2_load_complete"),window.gapi.auth2.init(t).then(t=>{n("google_init_success"),e(t)},({error:e})=>{n("google_init_error"),o("init_exists_"+e)})},onerror:({error:e})=>{n("google_auth2_script_load_error"),o(e)},timeout:15e3,ontimeout:()=>{n("google_auth2_script_load_timeout"),o("timeout")}})):n("google_init_error")})})}function d(e,t,n,o=!1){return function(e,t,n,o=!1){return new Promise((s,r)=>{if(o&&Object(i.a)())return void r();const l=function(e){n&&n(e)};l("google_button_init"),u(n).then(()=>{l("google_sdk_load"),"undefined"!=typeof window&&window.gapi?t.signin2.render(e,{scope:c,onsuccess:e=>{l("google_button_success");const t=e.getAuthResponse(!0),n={data:{gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at,gplus_autologin:o||!1},signupOptions:{gplus_code:"",gplus_id_token:t.id_token,gplus_redirect_uri:a}};s(n)},onfailure:()=>{l("google_button_failure"),r("gapi_signin2_render_error")}}):l("google_init_error")},e=>{l("google_auth2_sdk_init_error"),r(e)})})}(e,t,n,o)}function h(){if("undefined"==typeof window)return null;const e=window.google;return e&&e.accounts&&e.accounts.id}function b(e,t){if("undefined"==typeof window)return;const n=h();if(n&&e.current){const t=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else t("not_initialized")}function g(e,t,n,i){Object(s.b)("https://accounts.google.com/gsi/client").then(()=>{if("undefined"==typeof window)return;const s=h();s&&(s.initialize({client_id:o.a.settings.GPLUS_CLIENT_ID,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:i}),b(e,t))})}function p({size:e}){return Object(r.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(r.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),Object(r.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),Object(r.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),Object(r.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),Object(r.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},"B/oJ":function(e,t,n){n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f}));var o=n("q1tI"),i=n("/MKj"),s=n("9Hil"),r=n("CpRl"),a=n("k1Bv"),c=n("o+5w"),l=n("yweb"),u=n("ulr2"),d=n("PmFr"),h=n("n6mq"),b=n("nKUr");const g=e=>new Set([...d.c,...d.b,...d.p]).has(e),p={default:3e3,email:3e3,facebook:5e3,google:4e3,gtap:4500};function f({isReducedHeader:e,platform:t}){const n=Object(l.c)(),d=Object(i.useDispatch)(),f=Object(i.useSelector)(({session:e})=>e.country);Object(o.useEffect)(()=>{"gtap"!==t&&d(Object(u.f)())},[]);const m=g(f);return Object(b.jsx)(o.Fragment,{children:m?Object(b.jsx)(c.a,{viewType:10,viewParameter:259,children:Object(b.jsxs)(h.f,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"white",children:[Object(b.jsx)(s.a,{color:"darkGray",duration:p[t],finalProgress:95}),Object(b.jsxs)(h.u,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[Object(b.jsxs)(h.f,{margin:10,children:[Object(b.jsx)(h.v,{overflow:"normal",size:e?"md":"lg",children:n._("Your account is being created!","account created heading","account created heading")}),Object(b.jsx)(h.cb,{overflow:"normal",children:n._("You can now save ideas, get personalized recommendations, and more","loading state description while waiting for any sign up registration to complete","loading state description while waiting for any sign up registration to complete")})]}),Object(b.jsx)(h.u,{alignItems:"center",flex:"grow",justifyContent:"center",children:Object(b.jsx)(r.a,{delayOffset:-5,xRadiusAdjustment:40,yRadiusAdjustment:40,children:Object(b.jsx)(h.f,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:Object(b.jsx)(h.w,{accessibilityLabel:n._("Loading","Loading state for any sign up registration","Loading state for any sign up registration"),color:"gray",icon:"person",size:"90"})})})})]})]})}):Object(b.jsx)(a.a,{})})}},CpRl:function(e,t,n){var o=n("q1tI"),i=n("ihsa"),s=n("n6mq"),r=n("4lNu");const a={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},c="DelightfulBubbles__",l=["DelightfulBubbles__fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n","DelightfulBubbles__growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n","DelightfulBubbles__swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n",...Object.keys(a).map(e=>{const t=((e,t)=>{const n=e.length,o=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[o]})(Object.keys(a),e);return`${c}colorChange_${e} {\n      0% {\n        background-color: ${a[e]};\n      }\n      50% {\n        background-color: ${a[t]};\n      }\n    }\n    `})],u=Object(r.a)(l);var d=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=e=>{const{delay:t,diameter:n,height:o,initialColor:i,width:r,xOffset:l,yOffset:u}=e,h=((e,t,n,o,i,s,r,l)=>({bubblePositionStyles:{position:"absolute",marginLeft:s/2-i+"px",marginTop:n/2-i+"px",left:r+"px",top:l+"px"},bubbleSwirlStyles:{animation:`${c}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${c}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${c}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${c}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:t+"px",width:t+"px",borderRadius:"50%",backgroundColor:a[o],opacity:0,animation:`${c}colorChange_${o} 12s steps(1, start) ${e}s infinite forwards,\n      ${c}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${c}colorChange_${o} 12s steps(1, start) ${e}s infinite forwards,\n      ${c}fadeIn 3s linear ${e}s 1 forwards`}}))(t,n,o,i,Math.floor(n/2),r,l,u);return Object(d.jsx)(s.f,{dangerouslySetInlineStyle:{__style:h.bubblePositionStyles},children:Object(d.jsx)(s.f,{dangerouslySetInlineStyle:{__style:h.bubbleSwirlStyles},children:Object(d.jsx)(s.f,{dangerouslySetInlineStyle:{__style:h.bubbleGrowShrinkStyles},children:Object(d.jsx)(s.f,{dangerouslySetInlineStyle:{__style:h.bubbleShapeStyles}})})})})};class g extends o.Component{constructor(...e){super(...e),h(this,"state",{isInitialized:!1})}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{bubbleSize:n,delayFactor:o,delayOffset:i,numBubbles:s,xRadiusAdjustment:c,yRadiusAdjustment:l}=this.props,u=e+2*l,h=t+2*c,g=[],p=Object.keys(a);for(let a=0;a<s;a+=1){const s=n+Object(r.c)(-4,4),c=p[a%p.length],{x:l,y:f}=Object(r.b)(u,h);g.push(Object(d.jsx)(b,{delay:a*o+i,diameter:s,initialColor:c,xOffset:l,yOffset:f,height:e,width:t},a))}return g}render(){const{height:e,width:t}=this.getSize();return Object(d.jsxs)(s.f,{height:e,width:t,position:"relative",children:[Object(d.jsx)(i.a,{unsafeCSS:u}),Object(d.jsxs)(s.f,{position:"absolute",ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(e||0,t||0),Object(d.jsx)(s.f,{position:"relative",children:this.props.children})]})]})}}h(g,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});t.a=g},Hgxh:function(e,t,n){n.d(t,"a",(function(){return a}));var o=n("mp1x"),i=n("yweb"),s=n("n6mq"),r=n("nKUr");function a({type:e,onDismiss:t}){const n=Object(i.c)(),a="facebook"===e?n._("Oops! Facebook isn't available","socialAuthDisabled.facebook.title","Title for the modal shown when Facebook services are not working"):n._("Oops! Google isn't available","socialAuthDisabled.google.title","Title for the modal shown when Google services are not working"),c="facebook"===e?n._("Looks like Facebook isn't available right now.\n\nGive another option a try or refresh the page and try again later.","socialAuthDisabled.facebook.description","Description for the modal shown when Facebook services are not working"):n._("Looks like Google isn't available right now.\n\nGive another option a try or refresh the page and try again later.","socialAuthDisabled.google.description","Description for the modal shown when Google services are not working");return Object(r.jsx)(o.a,{accessibilityCloseIconLabel:n._("Close","Close modal window","Close modal window"),hideCloseIcon:!0,isOpen:!0,onDismiss:t,type:"social_auth_disabled_modal",children:Object(r.jsxs)(s.f,{padding:2,children:[Object(r.jsx)(s.f,{marginBottom:3,children:Object(r.jsx)(s.v,{size:"md",accessibilityLevel:1,children:a})}),Object(r.jsx)(s.f,{marginBottom:3,children:Object(r.jsx)(s.cb,{children:c})}),Object(r.jsx)(s.u,{alignItems:"stretch",justifyContent:"start",direction:"column",children:Object(r.jsx)(s.f,{paddingY:1,children:Object(r.jsx)(s.g,{accessibilityLabel:n._("OK","socialAuthDisabled.okButton","Button that closes modal shown when Facebook or Google services are not working"),size:"lg",color:"red",text:n._("OK","socialAuthDisabled.okButton","Button that closes modal shown when Facebook or Google services are not working"),onClick:t})})})]})})}},IAo4:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));const o=/^(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])\/((19|20)[0-9]{2})$/,i=/^(19|20)[0-9]{2}$/,s=e=>{if(o.test(e)||i.test(e)){return new Date(e).getTime()/1e3}return-1},r=(e,t)=>{const n=new Date;if(o.test(e)){const o=new Date(n.getFullYear()-t,n.getMonth(),n.getDate());return new Date(e)<=o}if(i.test(e)){const o=n.getFullYear()-t-1;return new Date(e).getFullYear()<=o}return!1}},Wm3C:function(e,t,n){function o(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}n.d(t,"a",(function(){return o}))},bKKl:function(e,t,n){n.d(t,"a",(function(){return i}));var o=n("gxu6");const i=()=>!!o.a("logged_out")||!!o.a("fba")},fs0a:function(e,t,n){var o=n("q1tI"),i=n("/MKj"),s=n("Hgxh"),r=n("28DW"),a=n("QAzJ"),c=n("yweb"),l=n("2hay"),u=n("n6mq"),d=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},roundedButton:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",border:"none",height:"48px",transition:"opacity .2s linear",width:"48px",marginBottom:"8px",borderRadius:"50%"},buttonText:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"}};class g extends o.Component{constructor(...e){super(...e),h(this,"state",{fbReady:!1,showSocialAuthDisabledModal:!1}),h(this,"connectCallback",({creds:e,data:t})=>{this.props.onFacebookConnectSuccess(e,t)}),h(this,"handleConnectClick",()=>{Object(r.a)("unauth_mweb.facebook_connect.button_click");const{onTouch:e,mwebFacebookDisabled:t}=this.props;e&&e(),t?this.setState({showSocialAuthDisabledModal:!0}):this.state.fbReady&&Object(l.h)().then(this.connectCallback,this.props.onFacebookConnectError)}),h(this,"renderRoundButton",()=>Object(d.jsxs)(u.u,{alignItems:"center",direction:"column",justifyContent:"start",children:[Object(d.jsx)("button",{onClick:this.handleConnectClick,style:b.roundedButton,type:"button",children:Object(d.jsx)(u.w,{accessibilityLabel:this.props.i18n._("facebook","accessible label for facebook icon","accessible label for facebook icon"),color:"blue",icon:"facebook",inline:!0,size:20})}),Object(d.jsx)(u.cb,{color:"white",size:"md",children:this.props.i18n._("Facebook","Facebook company name","Facebook company name")})]}))}componentDidMount(){this.props.mwebFacebookDisabled||(Object(l.f)(this.props.locale).then(()=>{this.setState({fbReady:!0})}),window.addEventListener("message",this.handleMessageEvent,!1))}handleMessageEvent(e){Object(l.i)(e,e=>Object(r.a)("unauth_mweb."+e))}componentWillUnmount(){window.removeEventListener("message",this.handleMessageEvent)}renderPersonalizedButton(){const{isRerequest:e}=this.props,t=(this.props.type||"continue")+"_with",n="rounded",o=this.props.fbUseContinueAs?"true":"false";return Object(d.jsxs)(u.f,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",rounding:5,children:[e?Object(d.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":t,"data-layout":n,"data-show-faces":"false","data-auth-type":"rerequest","data-scope":l.b.join(","),"data-auto-logout-link":"false","data-use-continue-as":o}):Object(d.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":t,"data-layout":n,"data-show-faces":"false","data-scope":l.b.join(","),"data-auto-logout-link":"false","data-use-continue-as":o}),this.state.showSocialAuthDisabledModal&&Object(d.jsx)(s.a,{type:"facebook",onDismiss:()=>this.setState({showSocialAuthDisabledModal:!1})})]})}render(){const{isRounded:e}=this.props;return e?this.renderRoundButton():Object(d.jsxs)(u.f,{position:"relative","data-test-id":"FacebookConnectContainer",children:[this.renderPersonalizedButton(),Object(d.jsxs)("button",{onClick:this.handleConnectClick,style:b.defaultButton,type:"button","data-test-id":"FacebookConnectButton",children:[Object(d.jsx)(u.f,{color:"white",rounding:3,dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},children:Object(d.jsx)(u.w,{accessibilityLabel:this.props.i18n._("facebook","accessible label for facebook icon","accessible label for facebook icon"),color:"blue",icon:"facebook",inline:!0,size:19})}),Object(d.jsx)(u.f,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:Object(d.jsx)("span",{style:b.buttonText,children:this.props.buttonText})})]}),this.state.showSocialAuthDisabledModal&&Object(d.jsx)(s.a,{type:"facebook",onDismiss:()=>this.setState({showSocialAuthDisabledModal:!1})})]})}}var p=Object(i.connect)(e=>({locale:e.session.locale}))((function(e){const t=Object(c.c)(),{anyEnabled:n}=Object(a.b)("mweb_facebook_disabled");return Object(d.jsx)(g,{...e,i18n:t,mwebFacebookDisabled:n})})),f=n("k1Bv"),m=n("yep/"),j=n("bcHz"),_=n("u0Kf"),w=n("Wm3C"),O=n("jv6g"),x=n.n(O),y=n("kmwA"),k=n("hZxF"),S=n("RNo4"),v=n("pLLR"),T=n("0G5S");const C={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}};var L=({buttonText:e,onLineConnectSuccess:t,onLineConnectError:n,onTouch:o})=>{const i=Object(c.c)(),{anyEnabled:s}=Object(a.a)("mweb_line_oauth_jp")(),{anyEnabled:l}=Object(a.a)("mweb_line_oauth_jp_android")(),h=s||l,b=Object(w.a)(10),{locale:g}=Object(v.d)();let p;const f=e=>{const o=Object(S.k)(e);if(o.state&&o.code&&o.state===b){p&&!p.closed&&p.close();const e=window.location.origin+"/oauth/line/redirect";Object(_.b)({url:"/oauth/line/verify",type:"POST",data:{code:o.code,redirect_uri:e}}).then(({ok:e,responseText:o})=>{if(e&&o){const e=JSON.parse(o),{id_token:n,access_token:i}=e;n&&i&&t({line_id_token:n,line_access_token:i},{line_id_token:n,line_access_token:i})}else n()})}},m=e=>{e.isTrusted&&e.origin===window.location.origin&&e.data&&f(String(e.data))},j=e=>{if(e.isTrusted&&e.url.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===e.key){const e=Object(T.a)("lineOAuthOneTimeCode");e&&f(e)}};Object(k.a)(()=>()=>{window.removeEventListener("message",m),window.removeEventListener("storage",j),Object(T.b)("lineOAuthOneTimeCode"),p&&!p.closed&&p.close()});const O=C.defaultButton;return h?Object(d.jsx)(u.f,{position:"relative","data-test-id":"LineConnectContainer",children:Object(d.jsxs)("button",{onClick:()=>{Object(r.a)("unauth_mweb.line_connect.button_click"),o&&o();const e=window.location.origin+"/oauth/line/redirect";window.addEventListener("message",m,!1),window.addEventListener("storage",j),p=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id="+y.a.settings.LINE_CLIENT_ID+"&redirect_uri="+encodeURIComponent(e)+"&state="+b+"&ui_locales="+g+"&scope=profile%20openid%20email","_blank")},style:O,type:"button","data-test-id":"LineConnectButton",children:[Object(d.jsx)("img",{style:C.lineLogo,src:x.a,alt:i._("line","accessible label for line icon","accessible label for line icon")}),Object(d.jsx)(u.u,{alignItems:"center",justifyContent:"center",flex:"grow",children:Object(d.jsx)("span",{style:C.buttonText,children:e})})]})}):null},B=n("B/oJ"),E=n("6adH"),A=n("QtD7"),I=n("ANjH"),R=n("TXO6"),F=n("Q5BC"),P=n("vKjI"),D=n("VL22"),G=n("ulr2"),z=n("YWST"),N=n("EC67"),U=n("PmFr"),M=n("J8m7"),$=n("IAo4"),W=n("AGnR");function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o.PureComponent{constructor(...e){super(...e),K(this,"state",{isLoading:!1,showRegisterLoading:!1,signupPlatform:"default"}),K(this,"onRegisterSuccess",e=>{const{isRedirectToNextParamAfterSignup:t,next:n}=this.props;this.trackSignupLoginEvent(7487,e),["facebook","google"].includes(e)&&(t&&n&&this.props.history.push(n),this.props.history.push("/")),this.setState({showRegisterLoading:!1})}),K(this,"onRegisterFailure",(e,t)=>{this.trackSignupLoginEvent(7488,t),this.props.showToast({text:e.message||this.props.i18n._("Sorry! Something went wrong on our end.","Error logging on","Error logging on")}),this.setState({isLoading:!1,showRegisterLoading:!1})}),K(this,"handlePostLoginRegistration",(e,t)=>{const{beforeRegister:n,isSignupConfirmationExpEnabled:o}=this.props;n&&o()?n(e,t):t()}),K(this,"onLoginError",(e,t,n,o)=>{this.setState({isLoading:!1}),!t||t.apiErrorCode!==M.y&&t.apiErrorCode!==M.m&&t.apiErrorCode!==M.s?t?(Object(r.j)("mweb_login_button_skip_register.api_error_code."+t.apiErrorCode),this.props.showToast({text:t.apiErrorCode&&t.message?t.message:this.props.i18n._("Sorry, we can't log you in.","Error message when user having trouble login in.","Error message when user having trouble login in.")})):(Object(r.j)("unauth_mweb.login.unexpected_error"),this.props.showToast({text:this.props.i18n._("Sorry, we can't log you in.","Error message when user having trouble login in.","Error message when user having trouble login in.")})):"line"===o||n.email||n.gplus_id_token?"line"===o?t.apiErrorCode===M.s?this.redirectToLineEmailCollect(n):this.registerAfterLoginError(e,t,n,o):this.handlePostLoginRegistration(n.email||"",()=>this.registerAfterLoginError(e,t,n,o)):Object(l.c)("email").then(({hasPerm:i})=>{this.handlePostLoginRegistration("",()=>this.redirectToEmailCollect(n,e,t,o)),Object(r.j)("unauth_mweb.reg_via_fb.has_email_perm."+String(!!i))}).catch(i=>{this.handlePostLoginRegistration("",()=>this.registerAfterLoginError(e,t,n,o))})}),K(this,"getAuxDataSignupLoginMethod",e=>{switch(e){case"facebook":return 2;case"google":return 3;case"line":return 8;default:return}}),K(this,"getViewParameterType",e=>{switch(e){case"facebook":return 3205;case"google":return 3204;case"line":return 3556;default:return}}),K(this,"trackSignupLoginEvent",(e,t)=>{const{isAuthenticated:n,isLimitedLoginUser:o}=this.props;Object(W.e)({event_type:e,view_type:10,view_parameter:this.getViewParameterType(t),aux_data:{...n?{login_state:o?2:1}:{},signup_login_method:this.getAuxDataSignupLoginMethod(t)}})}),K(this,"trackButtonTap",e=>{const{isAuthenticated:t,isLimitedLoginUser:n,viewParameter:o}=this.props;Object(W.h)({view_type:10,view_parameter:o,element:e,aux_data:{...t?{login_state:n?2:1}:{}}})}),K(this,"registerAfterLoginError",(e,t,n,o)=>{"line"!==o&&this.includeAgeStep(o,n)?this.props.history.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:n,signupPlatform:o}}):("facebook"===o&&n.birthday&&(n.birthday=String(Object($.a)(n.birthday||""))),this.setState({isLoading:!0,showRegisterLoading:!0,signupPlatform:o}),this.trackSignupLoginEvent(7537,o),this.props.register(n).then(e=>this.onRegisterSuccess(o),e=>this.onRegisterFailure(e,o)))}),K(this,"redirectToEmailCollect",(e,t,n,o)=>{const{country:i}=this.props;this.props.history.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:e,isGDPREUCountry:Object(D.d)(i),country:i,includeAgeStep:this.includeAgeStep("facebook",e)}})}),K(this,"redirectToLineEmailCollect",e=>{this.props.history.push({pathname:"/signup/line-email-collect/",state:{signupOptions:e}})}),K(this,"includeAgeStep",(e,t)=>{const{country:n}=this.props,o="facebook"!==e||!t.birthday,i=Object(D.d)(n),s=U.b.includes(n),r=U.k.has(n);return!!(i||s||r)&&(!!o||!Object($.b)(t.birthday||"",18))}),K(this,"handleFacebookError",()=>{const{fbConnectHandler:e}=this.props;e&&e("error"),this.props.showToast({text:this.props.i18n._("Unable to connect to Facebook","Error logging on with Facebook","Error logging on with Facebook")})}),K(this,"handleLineError",()=>{this.props.showToast({text:this.props.i18n._("Unable to connect to Line","Error logging on with Line","Error logging on with Line")})}),K(this,"handleSignupTouch",({event:e})=>{const{from:t,history:n,isBusiness:o,next:i,onSignupTouch:s,setLoginSignupFrom:a,location:c,isRedirectToNextParamAfterSignup:l}=this.props;e&&(e.stopPropagation(),e.preventDefault()),Object(r.h)("press_email_signup"),Object(r.i)({action:"click",page_location:c,item:"continue-email-button"}),s&&s(),t&&a(t),this.trackButtonTap(31),n.push({pathname:o?"/business/signup/step1/":"/signup/step1/",search:c.search,state:{next:i,isRedirectToNextParamAfterSignup:l}})}),K(this,"handleLoginTouch",({event:e})=>{const{isBusiness:t,footerCTA:n,from:o,history:i,next:s,onLoginTouch:a,location:c,isRedirectToNextParamAfterSignup:l}=this.props;e.stopPropagation(),e.preventDefault(),a&&a(),o&&this.props.setLoginSignupFrom(o),Object(r.i)({action:"click",page_location:c,item:"login-button"}),this.trackButtonTap(30);const u=n||"button";Object(r.j)("unauth_mweb.login_buttons.footer."+u),Object(r.h)("press_login"),i.push({pathname:t?"/business/login/":"/login/",search:c.search,state:{next:s,isRedirectToNextParamAfterSignup:l}})}),K(this,"handleGoogleTouch",()=>{const{onGoogleTouch:e,location:t}=this.props;e&&e(),Object(r.i)({action:"click",page_location:t,item:"continue-google-button"}),this.trackButtonTap(208)}),K(this,"handleFacebookTouch",()=>{const{onFacebookTouch:e,location:t}=this.props;e&&e(),Object(r.i)({action:"click",page_location:t,item:"continue-facebook-button"}),this.trackButtonTap(68)}),K(this,"handleLineTouch",()=>{this.trackButtonTap(12277),Object(r.i)({action:"click",page_location:this.props.location,item:"continue-line-button"})}),K(this,"login",e=>(t,n)=>{const{fbConnectHandler:o,history:i,login:s,next:a,location:c,noImmediateLoginRedirect:l}=this.props,u="google"===e?"gsi_btn":"other",d=c.state&&c.state.switch_account?{switchAccount:!0,trigger:u}:{noImmediateRedirect:l,trigger:u};"facebook"===e&&o&&o("success"),Object(r.h)(e+"_login_success"),this.trackSignupLoginEvent(7534,e),s(t,i,a,d).then(()=>{this.trackSignupLoginEvent(7536,e)}).catch(o=>{this.trackSignupLoginEvent(7535,e),this.onLoginError(t,o,n,e)}),this.setState({isLoading:!0,showRegisterLoading:!1,signupPlatform:e})}),K(this,"renderRegularButtons",()=>{const{isBusiness:e,locale:t,googleText:n,facebookText:i,lineText:s,showEmailButton:r,fbButtonType:a,isRerequest:c,isAuthenticated:l,showSecondGoogleButton:h}=this.props;let b=this.props.i18n._("Continue with email","Sign up button","Sign up button"),g=2;return e&&(b=this.props.i18n._("Create account","Button text for creating a business account","Button text for creating a business account"),g=-2),Object(d.jsxs)(o.Fragment,{children:[r&&Object(d.jsx)(u.f,{"data-test-id":"continue-email-button",marginBottom:g,children:Object(d.jsx)(u.g,{fullWidth:!0,color:"red",text:b,onClick:this.handleSignupTouch})}),i&&Object(d.jsx)(u.f,{marginBottom:2,"data-test-id":"continue-facebook-button",children:Object(d.jsx)(p,{buttonText:i,locale:t,onFacebookConnectError:this.handleFacebookError,onFacebookConnectSuccess:this.login("facebook"),type:a,fbUseContinueAs:this.props.fbUseContinueAs,onTouch:this.handleFacebookTouch,isRerequest:c})}),n&&Object(d.jsx)(u.f,{marginBottom:2,"data-test-id":"continue-google-button",children:Object(d.jsx)(m.a,{buttonText:n,isAuthenticated:l,showSecondGoogleButton:h,onGoogleConnectSuccess:this.login("google"),onTouch:this.handleGoogleTouch})}),s&&Object(d.jsx)(u.f,{marginBottom:2,"data-test-id":"continue-line-button",children:Object(d.jsx)(L,{buttonText:s,onLineConnectError:this.handleLineError,onLineConnectSuccess:this.login("line"),onTouch:this.handleLineTouch})})]})})}renderFooterCTA(){const{footerCTA:e,increasedSpaceBelow:t,isMobileHomepage:n}=this.props;return"member_link"===e?Object(d.jsx)(u.f,{marginTop:-4,"data-test-id":"login-member",children:Object(d.jsx)(j.a,{pressState:"none",onTouch:e=>this.handleLoginTouch({event:e}),children:Object(d.jsx)(u.f,{paddingY:4,marginBottom:t?-1:-2,children:Object(d.jsx)(u.cb,{align:"center",size:"md",weight:"bold",color:n?"white":"darkGray",children:this.props.i18n._("Already a member? Log in","Link on mobile web sign up modal to direct unauth users to the login page","Link on mobile web sign up modal to direct unauth users to the login page")})})})}):"not_you_link"===e?Object(d.jsx)(u.f,{marginTop:-3,"data-test-id":"LoginButtonsNotYoucontainer",children:Object(d.jsx)(j.a,{pressState:"none",onTouch:e=>this.handleLoginTouch({event:e}),children:Object(d.jsxs)(u.cb,{size:"md",inline:!0,color:"darkGray",children:[this.props.i18n._("Not you? ","Text for if the user is shown the wrong Facebook profile image for their account","Text for if the user is shown the wrong Facebook profile image for their account"),Object(d.jsx)(u.cb,{color:"darkGray",inline:!0,size:"md",weight:"bold",children:this.props.i18n._("Log in as a different user.","Clickable text that takes the user to the login page","Clickable text that takes the user to the login page")})]})})}):Object(d.jsx)(u.f,{marginBottom:5,"data-test-id":"login-button",children:Object(d.jsx)(u.g,{fullWidth:!0,color:"transparent",onClick:this.handleLoginTouch,text:this.props.i18n._("Log in","Login page button","Login page button")})})}renderRoundedButtons(){const{locale:e,fbButtonType:t,isRerequest:n}=this.props;return Object(d.jsxs)(u.u,{alignItems:"center",direction:"column",justifyContent:"start",children:[Object(d.jsx)(u.f,{marginBottom:4,children:Object(d.jsx)(u.cb,{align:"center",color:"white",size:"md",children:this.props.i18n._("Sign up to get started","Sign up CTA","Sign up CTA")})}),Object(d.jsxs)(u.u,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[Object(d.jsxs)(u.f,{"data-test-id":"signup-button",rounding:"circle",display:"flex",direction:"column",alignItems:"center",marginBottom:4,marginEnd:4,children:[Object(d.jsx)("button",{onClick:this.handleSignupTouch,style:{border:"none",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",height:"48px",width:"48px",marginBottom:"8px",borderRadius:"50%",cursor:"pointer"},type:"button",children:Object(d.jsx)(u.w,{accessibilityLabel:this.props.i18n._("Continue with email","Sign up with email button","Sign up with email button"),icon:"gmail",color:"darkGray",inline:!0,size:16})}),Object(d.jsx)(u.cb,{color:"white",size:"md",children:this.props.i18n._("Email","Icon text for continuing with email","Icon text for continuing with email")})]}),Object(d.jsx)(u.f,{marginEnd:4,children:Object(d.jsx)(p,{locale:e,onFacebookConnectError:this.handleFacebookError,onFacebookConnectSuccess:this.login("facebook"),type:t,fbUseContinueAs:this.props.fbUseContinueAs,onTouch:this.handleFacebookTouch,isRerequest:n,isRounded:!0})}),Object(d.jsx)(m.a,{onGoogleConnectSuccess:this.login("google"),onTouch:this.handleGoogleTouch,isRounded:!0})]})]})}render(){const{isBusiness:e,showTextDivider:t,inSocialBeforeEmailExp:n,roundButtons:o,showLoginButtons:i,secondaryAccountFlowEnabled:s}=this.props,{showRegisterLoading:r,isLoading:a,signupPlatform:c}=this.state,l=e?s?6:-5:0;return Object(d.jsxs)(u.f,{marginTop:l,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[t&&Object(d.jsx)(u.f,{marginBottom:3,marginTop:3,children:Object(d.jsx)(u.cb,{align:"center",size:"sm",weight:"bold",children:this.props.i18n._("OR","Separator for email login button and social login button","Separator for email login button and social login button")})}),Object(d.jsx)(u.f,{marginBottom:n?3:6,children:o?this.renderRoundedButtons():this.renderRegularButtons()}),i&&this.renderFooterCTA(),a&&(r?Object(d.jsx)(B.a,{platform:"line"===c?"default":c}):Object(d.jsx)(f.a,{}))]})}}K(H,"defaultProps",{next:"/",fbUseContinueAs:!0,footerCTA:"button"});t.a=Object(I.compose)(N.l,E.a,Object(i.connect)(({session:e,users:t={}},n)=>({country:e.country,locale:e.locale,isAuthenticated:e.isAuthenticated,isLimitedLoginUser:Object(R.b)(t[e.userId]),isTablet:e.isTablet}),e=>({setLoginSignupFrom:t=>e(Object(G.u)(t)),register:t=>e(Object(P.a)(t)),login:(t,n,o,i)=>e(Object(F.b)(t,n,o,i)),isSignupConfirmationExpEnabled:()=>["enabled","employees"].includes(e(Object(A.a)("mweb_unauth_signup_confirmation")))})))((function(e){const t=Object(c.c)(),{showEmailButton:n,showLoginButtons:i}=e,s=Object(z.b)();return Object(o.useEffect)(()=>{s&&(i&&s.load(new URL("login.js","file://")),n&&s.load(new URL("signup.js","file://")))},[]),Object(d.jsx)(H,{...e,i18n:t})}))},jv6g:function(e,t){e.exports="https://s.pinimg.com/webapp/btn_base-3772d107.png"},k1Bv:function(e,t,n){var o=n("yweb"),i=n("n6mq"),s=n("nKUr");t.a=({isInModal:e})=>{const t=Object(o.c)();return Object(s.jsx)(i.f,{position:e?"absolute":"fixed",top:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255, .5)",height:"100%",width:"100%",zIndex:1}},display:"flex",alignItems:"center",justifyContent:"center",children:Object(s.jsx)(i.U,{accessibilityLabel:t._("Loading","Full page loading state","Full page loading state"),show:!0})})}},tCfZ:function(e,t,n){n.d(t,"a",(function(){return l}));var o=n("Lr1Z"),i=n("kmwA"),s=n("yweb"),r=n("qpbZ"),a=n("n6mq"),c=n("nKUr");function l({isMobileHomepage:e,isBusiness:t=!1,size:n="sm",alignText:l="center"}){const u=Object(s.c)(),d=i.a.settings.POLICY_PRIVACY_URL,h=t?i.a.settings.PARTNER_SITE_TOS_URL:i.a.settings.POLICY_TERMS_PLAIN_URL;return Object(c.jsx)(a.u,{alignItems:"left"===l?"start":"center",direction:"column",justifyContent:"start",children:Object(c.jsx)(a.cb,{color:e?"white":"gray",align:"left"===l?"start":"center",size:"sm",overflow:"left"===l?"normal":"breakWord",children:Object(r.b)(u._("By continuing, you agree to Pinterest's {{ termsOfService }} and acknowledge you've read our {{ privacyPolicy }}"),{termsOfService:Object(c.jsx)("span",{"data-test-id":"business-tos",children:Object(c.jsx)(o.a,{to:h,inline:!0,pressState:"background",newTab:!0,children:Object(c.jsx)(a.cb,{color:e?"white":"gray",inline:!0,size:"sm",weight:"bold",children:t?u._("Business Terms of Service","Mobile web business terms of service link for partners","Mobile web business terms of service link for partners"):u._("Terms of Service","Mobile web terms of service link","Mobile web terms of service link")})})},"termsOfService"),privacyPolicy:Object(c.jsx)("span",{"data-test-id":"privacy",children:Object(c.jsx)(o.a,{to:d,inline:!0,pressState:"background",newTab:!0,children:Object(c.jsx)(a.cb,{color:e?"white":"gray",inline:!0,size:"sm",weight:"bold",children:u._("Privacy Policy","Mobile web privacy policy link","Mobile web privacy policy link")})})},"privacyPolicy")})})})}},vKjI:function(e,t,n){n.d(t,"a",(function(){return x}));var o=n("gxu6"),i=n("0G5S"),s=n("PmFr");function r(){return function(e){const t={};return e.forEach(e=>{const n=JSON.parse(Object(i.a)(e));n&&(t[e]=n)}),JSON.stringify(t)}([s.l])}var a=n("eOdZ"),c=n("Ptwp"),l=n("lIBN"),u=n("28DW"),d=n("ARZW"),h=n("VL22"),b=n("jUT+"),g=n("vtuW"),p=n("B/oJ"),f=n("eNqV"),m=n("J8m7"),j=n("A+Hl"),_=n("AYc3"),w=n("2y2F"),O=n("2oSX");const x=(e,t)=>(t,n)=>{let x=0;const{session:y}=n(),{country:k}=y,S=Object(p.b)(k),v=new Promise((e,t)=>{S?setTimeout(()=>{e()},3e3):e()}),T=()=>{const n=y.isAuthenticated,p=Object(j.c)(y.origin)&&!1;return(p?Object(j.b)({invite_code:y.inviteCode,locale:y.locale,referrer:y.referrer,...e}):a.a.create("UserRegisterResource",{...e,get_user:!0,user_behavior_data:r(),visited_pages:Object(i.a)(s.g)}).callCreate()).then(o=>v.then(()=>{var r,a,m,j;Object(g.b)("d_pif_invite"),Object(i.b)(s.g),t((r=o.resource_response.data.user,a=o.client_context.placed_experiences,m=o.client_context.active_experiments,j=o.client_context.triggerable_experiments,{type:b.pb,payload:{user:r,experiences:a,active:m,triggerable:j}})),n&&Object(l.a)("registration.signup_success");const x=e.email||e.username||null,y=e.password||null;if(navigator.credentials&&x&&y)try{const e=new window.PasswordCredential({id:x,password:y});Object(u.a)("unauth_mweb.navigatorCredentials.store.attempt"),navigator.credentials&&"function"==typeof navigator.credentials.store&&navigator.credentials.store(e).then(()=>{Object(u.a)("unauth_mweb.navigatorCredentials.store.success")})}catch(S){Object(u.a)("unauth_mweb.navigatorCredentials.store.error")}return Object(O.e)({action:"signup",type:Object(h.b)(e),isCrossDomain:p,isMultipleAccounts:n}),Object(c.a)(),n&&Object(f.j)(),Object(w.a)(k)&&Object(_.g)({id:d.g,eventCategory:"NewUsers",eventName:"Mobile"}),Object(w.f)(k)&&Object(_.k)({id:"flashtalking-m-reg",eventCategory:"NewUsers",eventName:"Mobile"}),Object(w.c)(k)&&Object(_.h)({pixelId:"dpm_pixel_new_user_event",eventCategory:"NewUsers",eventName:"Mobile"}),Object(w.d)(k)&&Object(_.i)({pixelId:"dentsu_pixel_new_user_event",eventCategory:"NewUsers",eventName:"Mobile"}),o})).catch(t=>{const{apiErrorCode:i=null}=t;if(i&&i===m.d&&(Object(u.a)("multi_step_set_age_restrict_cookie"),o.b("r_r","1",4320)),!(x<3)||i&&![m.h,m.g].includes(i))throw Object(O.f)({action:"signup",type:Object(h.b)(e),error:t.message,isCrossDomain:p,isMultipleAccounts:n}),n&&Object(l.a)("registration.signup_error"),t;x+=1,T()})};return T()}},"yep/":function(e,t,n){n.d(t,"a",(function(){return m}));var o=n("q1tI"),i=n("/MKj"),s=n("Hgxh"),r=n("yweb"),a=n("4NbJ"),c=n("n6mq"),l=n("nKUr");function u(){const e=Object(r.c)(),[t,n]=Object(o.useState)();return Object(l.jsxs)(c.f,{position:"relative",children:[Object(l.jsx)(c.bb,{onTap:()=>n(!0),children:Object(l.jsxs)(c.f,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"lightGray",children:[Object(l.jsx)(c.f,{height:24,width:24,marginTop:1,children:Object(l.jsx)(a.b,{size:20})}),Object(l.jsx)(c.f,{marginStart:2,children:Object(l.jsx)(c.cb,{weight:"bold",children:e._("Connect with Google","googleConnectButtonWithDisabledSDK.buttonText","Connect with Google button text")})})]})}),t&&Object(l.jsx)(s.a,{type:"google",onDismiss:()=>n(!1)})]})}var d=n("QtD7"),h=n("4NNh"),b=n("QAzJ"),g=n("28DW");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.Component{constructor(...e){super(...e),p(this,"gsiButtonRef",Object(o.createRef)()),p(this,"gsiSecondHomepageButtonRef",Object(o.createRef)()),p(this,"handleGoogleConnectSuccess",()=>{const{onTouch:e}=this.props;e&&e(),Object(g.h)("press_google_login")})}componentDidMount(){const{browserType:e,isAuthenticated:t,isGoogleOneTapDisabled:n,isGoogleOneTapInitialized:o,enabledSafariOneTapITPExp:i,enablediOSOneTapITPExp:s,enabledChromeOneTapITPExp:r,platform:c}=this.props;n||t||!o?(Object(a.e)(this.gsiButtonRef,this.logGSIButton.bind(this),this.handleCredentialResponse.bind(this),"ios"===c&&(2===e&&i()||1===e&&r()||s())),t||o||Object(g.a)("mweb.gsi_button_fix.load_and_initialize_gsi_script")):Object(a.f)(this.gsiButtonRef,this.logGSIButton.bind(this))}componentDidUpdate(){const{browserType:e,isGoogleOneTapDisabled:t,isGoogleOneTapInitialized:n,showSecondGoogleButton:o,enabledSafariOneTapITPExp:i,enablediOSOneTapITPExp:s,enabledChromeOneTapITPExp:r,platform:c}=this.props;n?Object(a.f)(o?this.gsiSecondHomepageButtonRef:this.gsiButtonRef,this.logGSIButton.bind(this)):t&&Object(a.e)(o?this.gsiSecondHomepageButtonRef:this.gsiButtonRef,this.logGSIButton.bind(this),this.handleCredentialResponse.bind(this),"ios"===c&&(2===e&&i()||1===e&&r()||s()))}shouldComponentUpdate(e){const{isGoogleOneTapDisabled:t,isGoogleOneTapInitialized:n,showSecondGoogleButton:o}=this.props;return!n&&!!e.isGoogleOneTapInitialized||!t&&!!e.isGoogleOneTapDisabled||!!o}handleCredentialResponse(e){const t=e.credential;this.logGSIButton("select_by."+e.select_by);const n={google_open_id_token:t,autologin:!1},o=Object(h.b)(t),i={google_open_id_token:t,first_name:o.given_name,last_name:o.family_name,image_url:o.picture};this.props.onGoogleConnectSuccess(n,i)}logGSIButton(e){Object(g.a)("unauth_mweb.gsi_button."+e)}render(){const{showSecondGoogleButton:e}=this.props;return Object(l.jsx)(c.f,{position:"relative",children:Object(l.jsx)(c.bb,{onTap:()=>Object(g.a)("gsi_personalized_button.tap"),children:Object(l.jsx)(c.f,{height:44,children:e?Object(l.jsx)(c.f,{ref:this.gsiSecondHomepageButtonRef,position:"absolute",width:"100%"}):Object(l.jsx)(c.f,{ref:this.gsiButtonRef,position:"absolute",width:"100%"})})})})}}function m(e){const{isGoogleOneTapInitialized:t,isGoogleOneTapDisabled:n,browserType:o,platform:s}=Object(i.useSelector)(({session:e})=>({isGoogleOneTapInitialized:e.isGoogleOneTapInitialized,isGoogleOneTapDisabled:e.isGoogleOneTapDisabled,browserType:e.browserType,platform:e.userAgentPlatform})),{anyEnabled:r}=Object(b.b)("mweb_google_disabled"),a=Object(i.useDispatch)();return r?Object(l.jsx)(u,{}):Object(l.jsx)(f,{...e,isGoogleOneTapInitialized:t,isGoogleOneTapDisabled:n,browserType:o,platform:s,enabledSafariOneTapITPExp:()=>a(Object(d.a)("mweb_unauth_safari_one_tap")).startsWith("enabled"),enablediOSOneTapITPExp:()=>a(Object(d.a)("mweb_unauth_ios_one_tap")).startsWith("enabled"),enabledChromeOneTapITPExp:()=>a(Object(d.a)("mweb_unauth_chrome_one_tap")).startsWith("enabled")})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/133-0f1b525bd756130c4d31.mjs.map